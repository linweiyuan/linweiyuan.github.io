<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <author>
    <name>æ—ä¼Ÿæº</name>
  </author>
  <generator uri="https://hexo.io/">Hexo</generator>
  <id>https://linweiyuan.github.io/</id>
  <link href="https://linweiyuan.github.io/" rel="alternate"/>
  <link href="https://linweiyuan.github.io/atom.xml" rel="self"/>
  <rights>All rights reserved 2026, æ—ä¼Ÿæº</rights>
  <title>æ—ä¼Ÿæºçš„æŠ€æœ¯åšå®¢</title>
  <updated>2026-02-13T00:37:43.578Z</updated>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="è™šæ‹Ÿæœº" scheme="https://linweiyuan.github.io/categories/%E8%99%9A%E6%8B%9F%E6%9C%BA/"/>
    <category term="Windows" scheme="https://linweiyuan.github.io/tags/Windows/"/>
    <category term="KVM" scheme="https://linweiyuan.github.io/tags/KVM/"/>
    <category term="QEMU" scheme="https://linweiyuan.github.io/tags/QEMU/"/>
    <content>
      <![CDATA[<p>ä»Šå¤©æŠ˜è…¾ä¸‹ä¸²æµï¼Œsunshine è¿™ä¸ªåŒ…åœ¨ Arch çš„ aur åº“é‡Œæ˜¯æœ‰çš„ï¼Œå¦‚æœä¸æƒ³è‡ªå·±ç¼–è¯‘é‚£ä¹ˆè¿˜å¯ä»¥ç›´æ¥ä» archlinuxcn é‡Œè£…</p><p>è£…å®Œç›´æ¥ç”¨ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œmoonlight ä¹Ÿå¾ˆæ­£å¸¸</p><p>ä½†æ˜¯ï¼Œæˆ‘çš„ Steam æ˜¯å®‰è£…åœ¨è™šæ‹Ÿæœº Windows ä¸Šçš„ï¼Œé‚£ä¹ˆä¸²æµçš„æ—¶å€™ï¼Œè¾“å…¥ Arch çš„ IP æ˜¾ç„¶ä¸åˆé€»è¾‘ï¼Œæ‰€ä»¥å°±è¿ä¸ä¸Šäº†</p><p>è¿™æ—¶ï¼Œç¿»çœ‹ sunshine çš„é…ç½®ï¼Œä¼šå‘ç°ä¸Šé¢æœ‰åˆ—å‡ºéœ€è¦ç”¨åˆ°çš„ç«¯å£ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥è¿›è¡Œç«¯å£æ˜ å°„æ¥è§£å†³ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œå¹¶ä¸”å¯ä»¥ç”¨å¤šç§æ–¹å¼å®ç°ï¼Œæ¯”å¦‚å¸¸è§çš„ iptablesï¼Œæˆ–è€… qemu è‡ªå¸¦çš„</p><p>ä½†æ˜¯æˆ‘è¿™é‡Œç”¨ socat</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">socat TCP-LISTEN:47984,fork TCP:192.168.122.130:47984</span><br><span class="line">socat TCP-LISTEN:47989,fork TCP:192.168.122.130:47989</span><br><span class="line">socat TCP-LISTEN:48010,fork TCP:192.168.122.130:48010</span><br><span class="line">socat UDP-LISTEN:48010,fork UDP:192.168.122.130:48010</span><br><span class="line">socat UDP-LISTEN:47998,fork UDP:192.168.122.130:47998</span><br><span class="line">socat UDP-LISTEN:47999,fork UDP:192.168.122.130:47999</span><br><span class="line">socat UDP-LISTEN:48000,fork UDP:192.168.122.130:48000</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥äº†</p><p>å½“ç„¶ï¼Œè¿˜å¯ä»¥ç»™è™šæ‹Ÿæœºæ’å…¥ä¸ª USB ç½‘å¡ï¼Œè¿™ç§æ–¹å¼æˆ‘è¯•è¿‡ä¹Ÿæ˜¯æ²¡æœ‰é—®é¢˜</p>]]>
    </content>
    <id>https://linweiyuan.github.io/2025/03/02/Sunshine-Moonlight.html</id>
    <link href="https://linweiyuan.github.io/2025/03/02/Sunshine-Moonlight.html"/>
    <published>2025-03-02T16:07:05.000Z</published>
    <summary>
      <![CDATA[<p>ä»Šå¤©æŠ˜è…¾ä¸‹ä¸²æµï¼Œsunshine è¿™ä¸ªåŒ…åœ¨ Arch çš„ aur åº“é‡Œæ˜¯æœ‰çš„ï¼Œå¦‚æœä¸æƒ³è‡ªå·±ç¼–è¯‘é‚£ä¹ˆè¿˜å¯ä»¥ç›´æ¥ä» archlinuxcn é‡Œè£…</p>
<p>è£…å®Œç›´æ¥ç”¨ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œmoonlight ä¹Ÿå¾ˆæ­£å¸¸</p>
<p>ä½†æ˜¯ï¼Œæˆ‘çš„ Steam æ˜¯å®‰è£…åœ¨è™šæ‹Ÿæœº Wind]]>
    </summary>
    <title>Sunshine + Moonlight</title>
    <updated>2026-02-13T00:37:43.578Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="æ“ä½œç³»ç»Ÿ" scheme="https://linweiyuan.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    <category term="Arch Linux" scheme="https://linweiyuan.github.io/tags/Arch-Linux/"/>
    <category term="Kubernetes" scheme="https://linweiyuan.github.io/tags/Kubernetes/"/>
    <content>
      <![CDATA[<p>ä»Šå¤©æ˜¯ 15 å·ï¼Œéœ€è¦æ­ä¸€ä¸ªæ–°çš„ç³»ç»Ÿç”¨æ¥åšæµ‹è¯•ï¼Œç”¨äº†ä¸€ç›´ä½¿ç”¨çš„è„šæœ¬æ¥å®‰è£…åï¼Œå‡ºäº†é—®é¢˜ï¼Œæ— æ³•è¿æ¥ç½‘ç»œï¼ŒæŠ¥é”™ä¿¡æ¯å¤§æ¦‚æ˜¯æƒé™é—®é¢˜ï¼Œåé¢é‡å¯æˆ–è€…å…¶ä»–æ“ä½œä¹Ÿå…¨éƒ¨æŠ¥é”™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Jan 15 18:21:20 archlinux systemd[1]: polkit.service: Main process exited, code=exited, status=217/USER</span><br><span class="line">â–‘â–‘ Subject: Unit process exited</span><br><span class="line">â–‘â–‘ Defined-By: systemd</span><br><span class="line">â–‘â–‘ Support: https://lists.freedesktop.org/mailman/listinfo/systemd-devel</span><br><span class="line">â–‘â–‘</span><br><span class="line">â–‘â–‘ An ExecStart= process belonging to unit polkit.service has exited.</span><br><span class="line">â–‘â–‘</span><br><span class="line">â–‘â–‘ The process<span class="string">&#x27; exit code is &#x27;</span>exited<span class="string">&#x27; and its exit status is 217.</span></span><br><span class="line"><span class="string">Jan 15 18:21:20 archlinux systemd[1]: polkit.service: Failed with result &#x27;</span>exit-code<span class="string">&#x27;.</span></span><br><span class="line"><span class="string">â–‘â–‘ Subject: Unit failed</span></span><br><span class="line"><span class="string">â–‘â–‘ Defined-By: systemd</span></span><br><span class="line"><span class="string">â–‘â–‘ Support: https://lists.freedesktop.org/mailman/listinfo/systemd-devel</span></span><br><span class="line"><span class="string">â–‘â–‘</span></span><br><span class="line"><span class="string">â–‘â–‘ The unit polkit.service has entered the &#x27;</span>failed<span class="string">&#x27; state with result &#x27;</span>exit-code<span class="string">&#x27;.</span></span><br><span class="line"><span class="string">Jan 15 18:21:20 archlinux systemd[1]: Failed to start Authorization Manager.</span></span><br><span class="line"><span class="string">â–‘â–‘ Subject: A start job for unit polkit.service has failed</span></span><br><span class="line"><span class="string">â–‘â–‘ Defined-By: systemd</span></span><br><span class="line"><span class="string">â–‘â–‘ Support: https://lists.freedesktop.org/mailman/listinfo/systemd-devel</span></span><br><span class="line"><span class="string">â–‘â–‘</span></span><br><span class="line"><span class="string">â–‘â–‘ A start job for unit polkit.service has finished with a failure.</span></span><br><span class="line"><span class="string">â–‘â–‘</span></span><br><span class="line"><span class="string">â–‘â–‘ The job identifier is 2159 and the job result is failed.</span></span><br><span class="line"><span class="string">Jan 15 18:21:20 archlinux NetworkManager[609]: &lt;info&gt;  [1736936480.2701] audit: op=&quot;connection-add-activate&quot; pid=858 uid=1000 result=&quot;fail&quot; reason=&quot;Not authorized to control networking.&quot;</span></span><br><span class="line"><span class="string">Jan 15 18:21:25 archlinux systemd[1]: systemd-localed.service: Deactivated successfully.</span></span><br><span class="line"><span class="string">â–‘â–‘ Subject: Unit succeeded</span></span><br><span class="line"><span class="string">â–‘â–‘ Defined-By: systemd</span></span><br><span class="line"><span class="string">â–‘â–‘ Support: https://lists.freedesktop.org/mailman/listinfo/systemd-devel</span></span><br><span class="line"><span class="string">â–‘â–‘</span></span><br><span class="line"><span class="string">â–‘â–‘ The unit systemd-localed.service has successfully entered the &#x27;</span>dead<span class="string">&#x27; state.</span></span><br></pre></td></tr></table></figure><p>ç¿»çœ‹é”™è¯¯æ—¥å¿—ï¼Œå‘ç°æ˜¯ <code>polkit</code> è¿™ä¸ªæœåŠ¡èµ·ä¸æ¥ï¼Œé‡å¯ä¹Ÿä¸è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ sudo systemctl restart polkit</span><br><span class="line">Job <span class="keyword">for</span> polkit.service failed because the control process exited with error code.</span><br><span class="line">See <span class="string">&quot;systemctl status polkit.service&quot;</span> and <span class="string">&quot;journalctl -xeu polkit.service&quot;</span> <span class="keyword">for</span> details.</span><br></pre></td></tr></table></figure><p>å†çœ‹åŒ…æ›´æ–°æ—¥å¿—ï¼Œç¡®å®æ›´æ–°äº†è¿™ä¸ªåŒ…ï¼Œä» <code>125</code> å‡åˆ°äº† <code>126</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ pacman -Q | grep polkit</span><br><span class="line">polkit 126-1</span><br></pre></td></tr></table></figure><p>æ€ä¹ˆåŠå‘¢ï¼Ÿå›æ»š</p><p>Arch è¿™ä¸ªç³»ç»Ÿå¥½å°±å¥½åœ¨æ»šæŒ‚äº†èƒ½å¾ˆå¿«åœ¨ <a href="https://archive.archlinux.org/packages/p/polkit/">archive</a> é‡Œæ‰¾åˆ°æ—§åŒ…</p><p>ç›´æ¥ä¸‹è½½ <code>125</code> ç‰ˆæœ¬çš„ä¸‹æ¥é‡æ–°å®‰è£…ï¼Œç„¶åé‡å¯æœåŠ¡ï¼Œå¥½äº†</p><p>ä¸ä¿¡é‚ªï¼Œæˆ‘æµ‹è¯•æœºæ¯”è¾ƒå¤šï¼Œåœ¨å¦ä¸€å°æœºä¸Šé¢æ»šä¸€ä¸‹é‡å¯ï¼Œæ²¡æœ‰é—®é¢˜</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ sudo pacman -Syu</span><br><span class="line">:: Synchronizing package databases...</span><br><span class="line"> core is up to <span class="built_in">date</span></span><br><span class="line"> extra is up to <span class="built_in">date</span></span><br><span class="line"> multilib is up to <span class="built_in">date</span></span><br><span class="line"> archlinuxcn                                                                          1389.5 KiB   924 KiB/s 00:02 [--------------------------------------------------------------------] 100%</span><br><span class="line">:: Starting full system upgrade...</span><br><span class="line">warning: conky: ignoring package upgrade (1.19.7-1 =&gt; 1.21.5-1)</span><br><span class="line">warning: xfce4-terminal: ignoring package upgrade (0.8.9.2-2 =&gt; 1.1.4-1)</span><br><span class="line">resolving dependencies...</span><br><span class="line">looking <span class="keyword">for</span> conflicting packages...</span><br><span class="line"></span><br><span class="line">Package (1)   Old Version  New Version  Net Change  Download Size</span><br><span class="line"></span><br><span class="line">extra/polkit  125-1        126-1          0.01 MiB       0.39 MiB</span><br><span class="line"></span><br><span class="line">Total Download Size:   0.39 MiB</span><br><span class="line">Total Installed Size:  1.89 MiB</span><br><span class="line">Net Upgrade Size:      0.01 MiB</span><br><span class="line"></span><br><span class="line">:: Proceed with installation? [Y/n]</span><br></pre></td></tr></table></figure><p>éš¾é“æ–°å®‰è£…çš„ç³»ç»Ÿæœ‰é—®é¢˜ï¼Œæ—§ç³»ç»Ÿå‡çº§å°±æ²¡é—®é¢˜ï¼Ÿå†æ¥é‡è¯•ä¸€éç³»ç»Ÿå®‰è£…ï¼Œæœç„¶åˆæœ‰é—®é¢˜</p><p>å¾—å‡ºç»“è®ºï¼Œç›´æ¥å…¨æ–°å®‰è£… <code>126</code> åŒ…æ˜¯ä¼šæŒ‚çš„ï¼Œä½†æ˜¯ä» <code>125</code> å‡åˆ° <code>126</code> å°±æ­£å¸¸</p><hr><p>æ›´æ–°ï¼šå½“å¤©æ™šäº›æ—¶å€™ï¼Œçœ‹åˆ°å®˜æ–¹å·²ç»å‡ºäº†ä¸ªè¡¥ä¸åŒ…ï¼Œæˆ‘è¯•äº†é‡æ–°å®‰è£…ç³»ç»Ÿæµ‹è¯•ï¼Œä¹Ÿæ˜¯èƒ½æ­£å¸¸äº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ sudo pacman -Syu</span><br><span class="line">:: Synchronizing package databases...</span><br><span class="line"> core is up to <span class="built_in">date</span></span><br><span class="line"> extra is up to <span class="built_in">date</span></span><br><span class="line"> archlinuxcn is up to <span class="built_in">date</span></span><br><span class="line">:: Starting full system upgrade...</span><br><span class="line">warning: conky: ignoring package upgrade (1.19.7-1 =&gt; 1.21.5-1)</span><br><span class="line">warning: xfce4-terminal: ignoring package upgrade (0.8.9.2-2 =&gt; 1.1.4-1)</span><br><span class="line">resolving dependencies...</span><br><span class="line">looking <span class="keyword">for</span> conflicting packages...</span><br><span class="line"></span><br><span class="line">Package (1)   Old Version  New Version  Net Change  Download Size</span><br><span class="line"></span><br><span class="line">extra/polkit  126-1        126-2          0.00 MiB       0.39 MiB</span><br><span class="line"></span><br><span class="line">Total Download Size:   0.39 MiB</span><br><span class="line">Total Installed Size:  1.89 MiB</span><br><span class="line">Net Upgrade Size:      0.00 MiB</span><br><span class="line"></span><br><span class="line">:: Proceed with installation? [Y/n]</span><br></pre></td></tr></table></figure><p>æ€»ç®—æ˜ç™½ï¼Œå½“æ—¶ä¸Šç½‘æŸ¥è¿™ä¸ªé”™è¯¯æ€ä¹ˆè§£å†³çš„æ—¶å€™ï¼Œæœ‰äººè¯´ï¼Œé‡æ–°å®‰è£…è¿™ä¸ªåŒ…è§£å†³äº†ä»–çš„é—®é¢˜</p><p>æˆ‘å‘Šè¯‰ä½ ï¼Œé‡æ–°å®‰è£…æ˜¯è§£å†³ä¸äº†çš„ï¼Œä½ é‡æ–°å®‰è£…çš„æ˜¯æ‰“äº†è¡¥ä¸çš„äº†ï¼ŒåŒ…åä¸€æ ·ï¼Œé€ æˆäº†ä½ çš„å‡è±¡</p>]]>
    </content>
    <id>https://linweiyuan.github.io/2025/01/15/%E4%B8%80%E6%AC%A1-polkit-%E5%8C%85%E5%8D%87%E7%BA%A7%E5%AF%BC%E8%87%B4%E7%9A%84%E6%BB%9A%E6%8C%82%E9%97%AE%E9%A2%98.html</id>
    <link href="https://linweiyuan.github.io/2025/01/15/%E4%B8%80%E6%AC%A1-polkit-%E5%8C%85%E5%8D%87%E7%BA%A7%E5%AF%BC%E8%87%B4%E7%9A%84%E6%BB%9A%E6%8C%82%E9%97%AE%E9%A2%98.html"/>
    <published>2025-01-15T14:59:04.000Z</published>
    <summary>
      <![CDATA[<p>ä»Šå¤©æ˜¯ 15 å·ï¼Œéœ€è¦æ­ä¸€ä¸ªæ–°çš„ç³»ç»Ÿç”¨æ¥åšæµ‹è¯•ï¼Œç”¨äº†ä¸€ç›´ä½¿ç”¨çš„è„šæœ¬æ¥å®‰è£…åï¼Œå‡ºäº†é—®é¢˜ï¼Œæ— æ³•è¿æ¥ç½‘ç»œï¼ŒæŠ¥é”™ä¿¡æ¯å¤§æ¦‚æ˜¯æƒé™é—®é¢˜ï¼Œåé¢é‡å¯æˆ–è€…å…¶ä»–æ“ä½œä¹Ÿå…¨éƒ¨æŠ¥é”™</p>
<figure class="highlight bash"><table><tr><td class="gu]]>
    </summary>
    <title>ä¸€æ¬¡ polkit åŒ…å‡çº§å¯¼è‡´çš„æ»šæŒ‚é—®é¢˜</title>
    <updated>2026-02-13T00:37:43.580Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="æ“ä½œç³»ç»Ÿ" scheme="https://linweiyuan.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    <category term="Arch Linux" scheme="https://linweiyuan.github.io/tags/Arch-Linux/"/>
    <category term="Kubernetes" scheme="https://linweiyuan.github.io/tags/Kubernetes/"/>
    <content>
      <![CDATA[<p><a href="https://linweiyuan.github.io/2024/12/22/Arch-Linux-%E5%AE%89%E8%A3%85-Kubernetes-%E7%9A%84%E5%87%A0%E7%A7%8D%E5%A7%BF%E5%8A%BF.html">ä¸Šæ–‡</a> æåˆ°æœ¬åœ°éƒ¨ç½² <code>Kubernetes</code> é›†ç¾¤çš„å‡ ç§æ–¹å¼ï¼ŒåŒæ—¶ä¹Ÿæåˆ°äº†å¼€å‘è¿‡ç¨‹ä¸­åº”è¯¥æ€ä¹ˆè¿ä¸Šå»è¿™äº›æœåŠ¡çš„é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯åƒ <a href="https://kind.sigs.k8s.io/">kind</a>ï¼Œ<a href="https://kubernetes.io/docs/tutorials/hello-minikube/">Minikube</a> è¿™ç§å¥—å¨ƒï¼Œä¸€èˆ¬æ¥è¯´ï¼Œä½¿ç”¨ <code>kubectl port-forward</code> æ˜¯ä¸€ç§ä¸é”™çš„æ–¹å¼</p><p>åŒæ—¶æˆ‘ä¹Ÿè¯•äº† <a href="https://github.com/linweiyuan/goportforwarder">goportforwarder</a>ï¼Œå› ä¸ºèƒŒåä¹Ÿæ˜¯ <code>kubectl port-forward</code>ï¼Œæ‰€ä»¥é™¤äº†ä½ç«¯å£çš„æƒé™é—®é¢˜ï¼Œè¿˜æ˜¯å‹‰å¼ºèƒ½ç”¨çš„</p><p>ä»Šå¤©å‘ç°äº†å¦ä¸€ç§æ–¹å¼ï¼Œå°±æ˜¯ <code>IDEA</code> çš„ <code>Kubernetes</code> æ’ä»¶ï¼Œå¦‚å›¾ï¼ˆå½“ç„¶è¿™é‡Œçš„åœºæ™¯åªæ˜¯è¿æ¥æ•°æ®åº“ï¼‰</p><p><img src="/2025/01/10/%E8%BF%9E%E6%8E%A5%E6%9C%AC%E5%9C%B0-Kubernetes-%E6%9C%8D%E5%8A%A1%E7%9A%84%E4%B8%80%E7%A7%8D%E6%96%B9%E5%BC%8F/idea-kubernetes-port-forward.png"></p><p>ç›¸ä¿¡èƒŒåä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ netstat -tnpl                                </span><br><span class="line">(Not all processes could be identified, non-owned process info</span><br><span class="line"> will not be shown, you would have to be root to see it all.)</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    </span><br><span class="line">tcp6       0      0 ::1:5432                :::*                    LISTEN      59439/kubectl  </span><br></pre></td></tr></table></figure>]]>
    </content>
    <id>https://linweiyuan.github.io/2025/01/10/%E8%BF%9E%E6%8E%A5%E6%9C%AC%E5%9C%B0-Kubernetes-%E6%9C%8D%E5%8A%A1%E7%9A%84%E4%B8%80%E7%A7%8D%E6%96%B9%E5%BC%8F.html</id>
    <link href="https://linweiyuan.github.io/2025/01/10/%E8%BF%9E%E6%8E%A5%E6%9C%AC%E5%9C%B0-Kubernetes-%E6%9C%8D%E5%8A%A1%E7%9A%84%E4%B8%80%E7%A7%8D%E6%96%B9%E5%BC%8F.html"/>
    <published>2025-01-10T17:11:47.000Z</published>
    <summary>
      <![CDATA[<p><a href="https://linweiyuan.github.io/2024/12/22/Arch-Linux-%E5%AE%89%E8%A3%85-Kubernetes-%E7%9A%84%E5%87%A0%E7%A7%8D%E5%A7%BF%E5%8A%BF.h]]>
    </summary>
    <title>è¿æ¥æœ¬åœ° Kubernetes æœåŠ¡çš„ä¸€ç§æ–¹å¼</title>
    <updated>2026-02-13T00:37:43.606Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="æ“ä½œç³»ç»Ÿ" scheme="https://linweiyuan.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    <category term="Arch Linux" scheme="https://linweiyuan.github.io/tags/Arch-Linux/"/>
    <category term="Kubernetes" scheme="https://linweiyuan.github.io/tags/Kubernetes/"/>
    <content>
      <![CDATA[<p>å¾—ç›Šäºä¼˜ç§€çš„ <code>pacman</code>ï¼Œå’Œå¼ºå¤§çš„ <code>AUR</code>ï¼Œå®‰è£…èµ·æ¥æ˜¯æ¯”è¾ƒç®€å•çš„ï¼ˆå½“ç„¶è¿™é‡Œç‰¹æŒ‡æœ¬åœ°å•æœºéƒ¨ç½²æµ‹è¯•ï¼‰</p><h3 id="ï¼ˆå¯é€‰ï¼‰æé«˜æ•ˆç‡"><a href="#ï¼ˆå¯é€‰ï¼‰æé«˜æ•ˆç‡" class="headerlink" title="ï¼ˆå¯é€‰ï¼‰æé«˜æ•ˆç‡"></a>ï¼ˆå¯é€‰ï¼‰æé«˜æ•ˆç‡</h3><p>æ¯”å¦‚ <code>oh-my-zsh</code>ï¼Œåˆ™å¯ä»¥ç¼–è¾‘ <code>.zshrc</code> æ·»åŠ æ’ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plugins=(</span><br><span class="line">  ...</span><br><span class="line">  kubectl</span><br><span class="line">  ...</span><br><span class="line">)h</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ’ä»¶å¯ä»¥ç®€åŒ–ä¸€äº›é‡å¤çš„é•¿å‘½ä»¤ï¼Œè®©ä½ æ›´ä¸“æ³¨äºå¼€å‘ä»»åŠ¡ï¼Œæ¯”å¦‚ <code>kubectl get pods</code> å¯ä»¥ç®€åŒ–ä¸º <code>k get pods</code>ï¼Œç”šè‡³ <code>kgp</code>ï¼Œé‡Œé¢è®¾ç½®äº†å¾ˆå¤šå‘½ä»¤çš„åˆ«åï¼šè¯¦æƒ…å¯ä»¥å‚è€ƒè¿™ä¸ªè¡¨ï¼š<a href="https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/kubectl">kubectl</a></p><p>æˆ–è€…å®‰è£…ç±»ä¼¼ <code>k9s</code> è¿™ç§å·¥å…·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S k9s</span><br></pre></td></tr></table></figure><hr><h3 id="äºŒè¿›åˆ¶å®‰è£…"><a href="#äºŒè¿›åˆ¶å®‰è£…" class="headerlink" title="äºŒè¿›åˆ¶å®‰è£…"></a>äºŒè¿›åˆ¶å®‰è£…</h3><p>ä¸åœ¨è®¨è®ºèŒƒå›´å†…ï¼Œå› ä¸ºæ²¡è¯•è¿‡</p><hr><h3 id="åŒ…å®‰è£…"><a href="#åŒ…å®‰è£…" class="headerlink" title="åŒ…å®‰è£…"></a>åŒ…å®‰è£…</h3><p>å®˜æ–¹ wiki <a href="https://wiki.archlinux.org/title/Kubernetes">Kubernetes</a> é‡Œæœ‰å†™æ‰‹åŠ¨å®‰è£…çš„æ­¥éª¤</p><p><code>control-plain</code> èŠ‚ç‚¹çš„è¯å®‰è£… <a href="https://archlinux.org/groups/x86_64/kubernetes-control-plane/">kubernetes-control-plane</a>ï¼Œæ˜¯ä¸€ä¸ªç»„ï¼Œé‡Œé¢åŒ…å«äº†ä¸‹é¢çš„åŒ…</p><ul><li><a href="https://archlinux.org/packages/extra/x86_64/kube-apiserver/">kube-apiserver</a></li><li><a href="https://archlinux.org/packages/extra/x86_64/kube-controller-manager/">kube-controller-manager</a></li><li><a href="https://archlinux.org/packages/extra/x86_64/kube-proxy/">kube-proxy</a></li><li><a href="https://archlinux.org/packages/extra/x86_64/kube-scheduler/">kube-scheduler</a></li><li><a href="https://archlinux.org/packages/extra/x86_64/kubelet/">kubelet</a></li></ul><p><code>worker</code> èŠ‚ç‚¹ä¹Ÿæ˜¯ä¸€ä¸ªç»„ <a href="https://archlinux.org/groups/x86_64/kubernetes-node/">kubernetes-node</a>ï¼ŒåŒ…å«åŒ…</p><ul><li><a href="https://archlinux.org/packages/extra/x86_64/kube-proxy/">kube-proxy</a></li><li><a href="https://archlinux.org/packages/extra/x86_64/kubelet/">kubelet</a></li></ul><p>è¿™ç§æ–¹å¼ä¹Ÿæ²¡è¯•è¿‡</p><hr><h3 id="kind"><a href="#kind" class="headerlink" title="kind"></a><a href="https://kind.sigs.k8s.io/">kind</a></h3><p>è¿™ä¸ª kind åŒ…åœ¨ AUR é‡Œæœ‰ï¼Œå¯ä»¥ç›´æ¥å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S kind</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥é€šè¿‡æºä»£ç ï¼Œæˆ–è€…ç›´æ¥ç”¨ <code>go install</code> å®‰è£…ï¼Œæ›´å¤šä¿¡æ¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ <a href="https://kind.sigs.k8s.io/docs/user/quick-start/">Quick Start</a></p><p>æ‰§è¡Œ kind å‘½ä»¤ï¼Œå¯å¾—åˆ°ç±»ä¼¼å¦‚ä¸‹è¾“å‡º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ kind</span><br><span class="line">kind creates and manages <span class="built_in">local</span> Kubernetes clusters using Docker container <span class="string">&#x27;nodes&#x27;</span></span><br><span class="line"></span><br><span class="line">Usage:</span><br><span class="line">  kind [<span class="built_in">command</span>]</span><br><span class="line"></span><br><span class="line">Available Commands:</span><br><span class="line">  build       Build one of [node-image]</span><br><span class="line">  completion  Output shell completion code <span class="keyword">for</span> the specified shell (bash, zsh or fish)</span><br><span class="line">  create      Creates one of [cluster]</span><br><span class="line">  delete      Deletes one of [cluster]</span><br><span class="line">  <span class="built_in">export</span>      Exports one of [kubeconfig, logs]</span><br><span class="line">  get         Gets one of [clusters, nodes, kubeconfig]</span><br><span class="line">  <span class="built_in">help</span>        Help about any <span class="built_in">command</span></span><br><span class="line">  load        Loads images into nodes</span><br><span class="line">  version     Prints the kind CLI version</span><br><span class="line"></span><br><span class="line">Flags:</span><br><span class="line">  -h, --<span class="built_in">help</span>              <span class="built_in">help</span> <span class="keyword">for</span> kind</span><br><span class="line">  -q, --quiet             silence all stderr output</span><br><span class="line">  -v, --verbosity int32   info <span class="built_in">log</span> verbosity, higher value produces more output</span><br><span class="line">      --version           version <span class="keyword">for</span> kind</span><br><span class="line"></span><br><span class="line">Use <span class="string">&quot;kind [command] --help&quot;</span> <span class="keyword">for</span> more information about a <span class="built_in">command</span>.</span><br></pre></td></tr></table></figure><p>åˆ›å»º cluster</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ kind create cluster</span><br><span class="line">Creating cluster <span class="string">&quot;kind&quot;</span> ...</span><br><span class="line"> âœ“ Ensuring node image (kindest/node:v1.32.0) ğŸ–¼</span><br><span class="line"> âœ“ Preparing nodes ğŸ“¦</span><br><span class="line"> âœ“ Writing configuration ğŸ“œ</span><br><span class="line"> âœ“ Starting control-plane ğŸ•¹ï¸</span><br><span class="line"> âœ“ Installing CNI ğŸ”Œ</span><br><span class="line"> âœ“ Installing StorageClass ğŸ’¾</span><br><span class="line">Set kubectl context to <span class="string">&quot;kind-kind&quot;</span></span><br><span class="line">You can now use your cluster with:</span><br><span class="line"></span><br><span class="line">kubectl cluster-info --context kind-kind</span><br><span class="line"></span><br><span class="line">Have a <span class="built_in">nice</span> day! ğŸ‘‹</span><br></pre></td></tr></table></figure><p>è¿™å°±å¥½äº†ï¼Œä¸ç”¨ç®¡å•¥ç½‘ç»œæ’ä»¶ä¹‹ç±»çš„ï¼Œä¹Ÿè‡ªåŠ¨é…ç½®å¥½äº† <code>.kube/config</code> æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ k get nodes</span><br><span class="line">NAME                 STATUS   ROLES           AGE     VERSION</span><br><span class="line">kind-control-plane   Ready    control-plane   6m43s   v1.32.0</span><br><span class="line"></span><br><span class="line">âœ  ~ k create deployment --image nginx:alpine nginx</span><br><span class="line">deployment.apps/nginx created</span><br><span class="line"></span><br><span class="line">âœ  ~ k expose deployment nginx --<span class="built_in">type</span> NodePort --port 80</span><br><span class="line">service/nginx exposed</span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡ç§‘å­¦ä¸Šç½‘æˆ–è€…æ²¡æœ‰è®¾ç½®å›½å†…æºï¼Œé‚£ä¹ˆæœ‰å¯èƒ½æ‹‰ä¸ä¸‹æ¥é•œåƒ</p><p><img src="/2024/12/22/Arch-Linux-%E5%AE%89%E8%A3%85-Kubernetes-%E7%9A%84%E5%87%A0%E7%A7%8D%E5%A7%BF%E5%8A%BF/failed-to-pull-image.png"></p><p>æ¯”å¦‚å¤§é¹…å°±è¦è®¾ç½®ä¸€ä¸‹ LAN æ¥å£</p><p><img src="/2024/12/22/Arch-Linux-%E5%AE%89%E8%A3%85-Kubernetes-%E7%9A%84%E5%87%A0%E7%A7%8D%E5%A7%BF%E5%8A%BF/daed-lan.png"></p><p>é•œåƒå°±å¯ä»¥æ‹‰ä¸‹æ¥äº†</p><p><img src="/2024/12/22/Arch-Linux-%E5%AE%89%E8%A3%85-Kubernetes-%E7%9A%84%E5%87%A0%E7%A7%8D%E5%A7%BF%E5%8A%BF/pull-image-ok.png"></p><p>å®¹å™¨è·‘èµ·æ¥åï¼Œè¿™æ—¶ä½ ä¼šå‘ç°è®¿é—®æ ¹æœ¬è®¿é—®ä¸é€š</p><p><img src="/2024/12/22/Arch-Linux-%E5%AE%89%E8%A3%85-Kubernetes-%E7%9A%84%E5%87%A0%E7%A7%8D%E5%A7%BF%E5%8A%BF/failed-to-curl.png"></p><p>ä¸ºå•¥å‘¢ï¼Ÿå› ä¸ºè¿™ä¸ª <code>kind</code> çš„æ„æ€æ˜¯ <code>Kubernetes in docker</code>ï¼Œæ•´ä¸ªé›†ç¾¤éƒ½åœ¨ä¸€ä¸ªå®¹å™¨é‡Œï¼Œå¦‚æœè¿›å…¥å®¹å™¨å†…ï¼Œå†è®¿é—®ï¼Œå°±å¯ä»¥</p><p><img src="/2024/12/22/Arch-Linux-%E5%AE%89%E8%A3%85-Kubernetes-%E7%9A%84%E5%87%A0%E7%A7%8D%E5%A7%BF%E5%8A%BF/curl-inside-kind.png"></p><p>å¹¶ä¸” kind é‡Œé¢ä¸‹è½½çš„é•œåƒï¼Œä¸€èˆ¬ä¹Ÿæ˜¯è¦è¿›å…¥å®¹å™¨å†…é€šè¿‡ <code>crictl images</code> æŸ¥çœ‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ docker images</span><br><span class="line">REPOSITORY                    TAG       IMAGE ID       CREATED        SIZE</span><br><span class="line">kindest/node                  &lt;none&gt;    2d9b4b74084a   9 days ago     1.05GB</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">root@kind-control-plane:/<span class="comment"># crictl images</span></span><br><span class="line">IMAGE                                           TAG                  IMAGE ID            SIZE</span><br><span class="line">docker.io/kindest/kindnetd                      v20241212-9f82dd49   d300845f67aeb       39MB</span><br><span class="line">docker.io/kindest/local-path-helper             v20241212-8ac705d0   baa0d31514ee5       3.08MB</span><br><span class="line">docker.io/kindest/local-path-provisioner        v20241212-8ac705d0   04b7d0b91e7e5       22.5MB</span><br><span class="line">docker.io/library/nginx                         alpine               91ca84b4f5779       22.8MB</span><br><span class="line">registry.k8s.io/coredns/coredns                 v1.11.3              c69fa2e9cbf5f       18.6MB</span><br><span class="line">registry.k8s.io/etcd                            3.5.16-0             a9e7e6b294baf       57.7MB</span><br><span class="line">registry.k8s.io/kube-apiserver-amd64            v1.32.0              73afaf82c9cc3       98MB</span><br><span class="line">registry.k8s.io/kube-apiserver                  v1.32.0              73afaf82c9cc3       98MB</span><br><span class="line">registry.k8s.io/kube-controller-manager-amd64   v1.32.0              f3548c6ff8a1e       90.8MB</span><br><span class="line">registry.k8s.io/kube-controller-manager         v1.32.0              f3548c6ff8a1e       90.8MB</span><br><span class="line">registry.k8s.io/kube-proxy-amd64                v1.32.0              aa194712e698a       95.3MB</span><br><span class="line">registry.k8s.io/kube-proxy                      v1.32.0              aa194712e698a       95.3MB</span><br><span class="line">registry.k8s.io/kube-scheduler-amd64            v1.32.0              faaacead470c4       70.6MB</span><br><span class="line">registry.k8s.io/kube-scheduler                  v1.32.0              faaacead470c4       70.6MB</span><br><span class="line">registry.k8s.io/pause                           3.10                 873ed75102791       320kB</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆéœ€è¦å¤–é¢è®¿é—®æ€ä¹ˆåŠï¼Œç®€å•çš„ä¸€ç§æ–¹æ³•ï¼Œç”¨ <code>port-forward</code>ï¼Œéœ€è¦ç»‘å®š 1024 åŠä»¥ä¸Šç«¯å£ï¼Œä¸ç„¶æœ‰æƒé™é—®é¢˜</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ k port-forward nginx-6b66fbbd46-t89f7 80:80</span><br><span class="line">Unable to listen on port 80: Listeners failed to create with the following errors: [unable to create listener: Error listen tcp4 127.0.0.1:80: <span class="built_in">bind</span>: permission denied unable to create listener: Error listen tcp6 [::1]:80: <span class="built_in">bind</span>: permission denied]</span><br><span class="line">error: unable to listen on any of the requested ports: [&#123;80 80&#125;]</span><br><span class="line"></span><br><span class="line">âœ  ~ k port-forward nginx-6b66fbbd46-t89f7 1024:80</span><br><span class="line">Forwarding from 127.0.0.1:1024 -&gt; 80</span><br><span class="line">Forwarding from [::1]:1024 -&gt; 80</span><br><span class="line">Handling connection <span class="keyword">for</span> 1024</span><br><span class="line"></span><br><span class="line">âœ  ~ curl 127.0.0.1:1024</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;<span class="built_in">head</span>&gt;</span><br><span class="line">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">html &#123; color-scheme: light dark; &#125;</span><br><span class="line">body &#123; width: 35em; margin: 0 auto;</span><br><span class="line">font-family: Tahoma, Verdana, Arial, sans-serif; &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;</span><br><span class="line">&lt;p&gt;If you see this page, the nginx web server is successfully installed and</span><br><span class="line">working. Further configuration is required.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;For online documentation and support please refer to</span><br><span class="line">&lt;a href=<span class="string">&quot;http://nginx.org/&quot;</span>&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;</span><br><span class="line">Commercial support is available at</span><br><span class="line">&lt;a href=<span class="string">&quot;http://nginx.com/&quot;</span>&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;&lt;em&gt;Thank you <span class="keyword">for</span> using nginx.&lt;/em&gt;&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>æ­£å¸¸ä½¿ç”¨è¿˜æ˜¯æ²¡ä»€ä¹ˆé—®é¢˜çš„ï¼Œä¹‹å‰å†™è¿‡ä¸€ä¸ªç¨‹åºç”¨æ¥ä¸€é”®æš´éœ²ç«¯å£ï¼š<a href="https://github.com/linweiyuan/goportforwarder">goportforwarder</a>ï¼Œä¸è¿‡ä¸çŸ¥é“ç°åœ¨è¿˜èƒ½ä¸èƒ½ç”¨äº†</p><p>å¸è½½</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kind delete cluster</span><br></pre></td></tr></table></figure><hr><h3 id="Kubeadm"><a href="#Kubeadm" class="headerlink" title="Kubeadm"></a><a href="https://kubernetes.io/docs/reference/setup-tools/kubeadm/">Kubeadm</a></h3><p>å…ˆè¯´ç»“è®ºï¼Œå¯¹æ–°æ‰‹å‘æ¯”è¾ƒå¤š</p><p>é¦–å…ˆæ˜¯ä¼ ç»Ÿçš„åŸºäº <code>docker</code> çš„ç‰ˆæœ¬</p><p>å®‰è£… docker ç›¸å…³åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S docker</span><br></pre></td></tr></table></figure><p>éœ€è¦å†è£…ä¸€ä¸ª docker å’Œ K8s ä¹‹é—´çš„ä¸€ç§æ¡¥æ¢ <code>cri-dockerd</code>ï¼Œæ³¨æ„è¿™ä¸ªæ˜¯åœ¨ AUR é‡Œçš„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S cri-dockerd-git</span><br></pre></td></tr></table></figure><p>å®‰è£… K8s ç›¸å…³åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S kubectl kubelet kubeadm</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>kubectl</code> æ˜¯æ“ä½œ K8s çš„å®¢æˆ·ç«¯å·¥å…·ï¼Œå› ä¸ºæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª C&#x2F;S æ¶æ„ï¼Œ<code>kubelet</code> æ˜¯èŠ‚ç‚¹ä¸Šçš„æ ¸å¿ƒç»„ä»¶ï¼Œç®€å•æ¥è¯´è´Ÿè´£å¤„ç†æ¥æ”¶çš„è¯·æ±‚ï¼Œ<code>kubeadm</code> ç”¨æ¥åˆå§‹åŒ– K8s</p><p>è®¾ç½®ç›¸å…³æœåŠ¡å¼€æœºè‡ªå¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> --now docker</span><br><span class="line"></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> --now cri-docker</span><br><span class="line"></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> --now kubelet</span><br></pre></td></tr></table></figure><p>åˆ°äº†è¿™ä¸€æ­¥ï¼Œæœ€å¥½é‡å¯ç³»ç»Ÿï¼Œé˜²æ­¢å„ç§å¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜</p><p>åˆå§‹åŒ– K8s</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ sudo kubeadm init --cri-socket unix:///var/run/cri-dockerd.sock --skip-phases=addon/kube-proxy</span><br><span class="line">I1224 00:46:49.514973    2153 version.go:261] remote version is much newer: v1.32.0; falling back to: stable-1.31</span><br><span class="line">[init] Using Kubernetes version: v1.31.4</span><br><span class="line">[preflight] Running pre-flight checks</span><br><span class="line">[preflight] Pulling images required <span class="keyword">for</span> setting up a Kubernetes cluster</span><br><span class="line">[preflight] This might take a minute or two, depending on the speed of your internet connection</span><br><span class="line">[preflight] You can also perform this action beforehand using <span class="string">&#x27;kubeadm config images pull&#x27;</span></span><br><span class="line">W1224 00:46:50.556067    2153 checks.go:846] detected that the sandbox image <span class="string">&quot;registry.k8s.io/pause:3.9&quot;</span> of the container runtime is inconsistent with that used by kubeadm.It is recommended to use <span class="string">&quot;registry.k8s.io/pause:3.10&quot;</span> as the CRI sandbox image.</span><br><span class="line">[certs] Using certificateDir folder <span class="string">&quot;/etc/kubernetes/pki&quot;</span></span><br><span class="line">[certs] Generating <span class="string">&quot;ca&quot;</span> certificate and key</span><br><span class="line">[certs] Generating <span class="string">&quot;apiserver&quot;</span> certificate and key</span><br><span class="line">[certs] apiserver serving cert is signed <span class="keyword">for</span> DNS names [archlinux kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local] and IPs [10.96.0.1 192.168.31.60]</span><br><span class="line">[certs] Generating <span class="string">&quot;apiserver-kubelet-client&quot;</span> certificate and key</span><br><span class="line">[certs] Generating <span class="string">&quot;front-proxy-ca&quot;</span> certificate and key</span><br><span class="line">[certs] Generating <span class="string">&quot;front-proxy-client&quot;</span> certificate and key</span><br><span class="line">[certs] Generating <span class="string">&quot;etcd/ca&quot;</span> certificate and key</span><br><span class="line">[certs] Generating <span class="string">&quot;etcd/server&quot;</span> certificate and key</span><br><span class="line">[certs] etcd/server serving cert is signed <span class="keyword">for</span> DNS names [archlinux localhost] and IPs [192.168.31.60 127.0.0.1 ::1]</span><br><span class="line">[certs] Generating <span class="string">&quot;etcd/peer&quot;</span> certificate and key</span><br><span class="line">[certs] etcd/peer serving cert is signed <span class="keyword">for</span> DNS names [archlinux localhost] and IPs [192.168.31.60 127.0.0.1 ::1]</span><br><span class="line">[certs] Generating <span class="string">&quot;etcd/healthcheck-client&quot;</span> certificate and key</span><br><span class="line">[certs] Generating <span class="string">&quot;apiserver-etcd-client&quot;</span> certificate and key</span><br><span class="line">[certs] Generating <span class="string">&quot;sa&quot;</span> key and public key</span><br><span class="line">[kubeconfig] Using kubeconfig folder <span class="string">&quot;/etc/kubernetes&quot;</span></span><br><span class="line">[kubeconfig] Writing <span class="string">&quot;admin.conf&quot;</span> kubeconfig file</span><br><span class="line">[kubeconfig] Writing <span class="string">&quot;super-admin.conf&quot;</span> kubeconfig file</span><br><span class="line">[kubeconfig] Writing <span class="string">&quot;kubelet.conf&quot;</span> kubeconfig file</span><br><span class="line">[kubeconfig] Writing <span class="string">&quot;controller-manager.conf&quot;</span> kubeconfig file</span><br><span class="line">[kubeconfig] Writing <span class="string">&quot;scheduler.conf&quot;</span> kubeconfig file</span><br><span class="line">[etcd] Creating static Pod manifest <span class="keyword">for</span> <span class="built_in">local</span> etcd <span class="keyword">in</span> <span class="string">&quot;/etc/kubernetes/manifests&quot;</span></span><br><span class="line">[control-plane] Using manifest folder <span class="string">&quot;/etc/kubernetes/manifests&quot;</span></span><br><span class="line">[control-plane] Creating static Pod manifest <span class="keyword">for</span> <span class="string">&quot;kube-apiserver&quot;</span></span><br><span class="line">[control-plane] Creating static Pod manifest <span class="keyword">for</span> <span class="string">&quot;kube-controller-manager&quot;</span></span><br><span class="line">[control-plane] Creating static Pod manifest <span class="keyword">for</span> <span class="string">&quot;kube-scheduler&quot;</span></span><br><span class="line">[kubelet-start] Writing kubelet environment file with flags to file <span class="string">&quot;/var/lib/kubelet/kubeadm-flags.env&quot;</span></span><br><span class="line">[kubelet-start] Writing kubelet configuration to file <span class="string">&quot;/var/lib/kubelet/config.yaml&quot;</span></span><br><span class="line">[kubelet-start] Starting the kubelet</span><br><span class="line">[wait-control-plane] Waiting <span class="keyword">for</span> the kubelet to boot up the control plane as static Pods from directory <span class="string">&quot;/etc/kubernetes/manifests&quot;</span></span><br><span class="line">[kubelet-check] Waiting <span class="keyword">for</span> a healthy kubelet at http://127.0.0.1:10248/healthz. This can take up to 4m0s</span><br><span class="line">[kubelet-check] The kubelet is healthy after 501.222992ms</span><br><span class="line">[api-check] Waiting <span class="keyword">for</span> a healthy API server. This can take up to 4m0s</span><br><span class="line">[api-check] The API server is healthy after 3.500830861s</span><br><span class="line">[upload-config] Storing the configuration used <span class="keyword">in</span> ConfigMap <span class="string">&quot;kubeadm-config&quot;</span> <span class="keyword">in</span> the <span class="string">&quot;kube-system&quot;</span> Namespace</span><br><span class="line">[kubelet] Creating a ConfigMap <span class="string">&quot;kubelet-config&quot;</span> <span class="keyword">in</span> namespace kube-system with the configuration <span class="keyword">for</span> the kubelets <span class="keyword">in</span> the cluster</span><br><span class="line">[upload-certs] Skipping phase. Please see --upload-certs</span><br><span class="line">[mark-control-plane] Marking the node archlinux as control-plane by adding the labels: [node-role.kubernetes.io/control-plane node.kubernetes.io/exclude-from-external-load-balancers]</span><br><span class="line">[mark-control-plane] Marking the node archlinux as control-plane by adding the taints [node-role.kubernetes.io/control-plane:NoSchedule]</span><br><span class="line">[bootstrap-token] Using token: aop3y1.858jqah2hpknu8yg</span><br><span class="line">[bootstrap-token] Configuring bootstrap tokens, cluster-info ConfigMap, RBAC Roles</span><br><span class="line">[bootstrap-token] Configured RBAC rules to allow Node Bootstrap tokens to get nodes</span><br><span class="line">[bootstrap-token] Configured RBAC rules to allow Node Bootstrap tokens to post CSRs <span class="keyword">in</span> order <span class="keyword">for</span> nodes to get long term certificate credentials</span><br><span class="line">[bootstrap-token] Configured RBAC rules to allow the csrapprover controller automatically approve CSRs from a Node Bootstrap Token</span><br><span class="line">[bootstrap-token] Configured RBAC rules to allow certificate rotation <span class="keyword">for</span> all node client certificates <span class="keyword">in</span> the cluster</span><br><span class="line">[bootstrap-token] Creating the <span class="string">&quot;cluster-info&quot;</span> ConfigMap <span class="keyword">in</span> the <span class="string">&quot;kube-public&quot;</span> namespace</span><br><span class="line">[kubelet-finalize] Updating <span class="string">&quot;/etc/kubernetes/kubelet.conf&quot;</span> to point to a rotatable kubelet client certificate and key</span><br><span class="line">[addons] Applied essential addon: CoreDNS</span><br><span class="line"></span><br><span class="line">Your Kubernetes control-plane has initialized successfully!</span><br><span class="line"></span><br><span class="line">To start using your cluster, you need to run the following as a regular user:</span><br><span class="line"></span><br><span class="line">  <span class="built_in">mkdir</span> -p <span class="variable">$HOME</span>/.kube</span><br><span class="line">  sudo <span class="built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="variable">$HOME</span>/.kube/config</span><br><span class="line">  sudo <span class="built_in">chown</span> $(<span class="built_in">id</span> -u):$(<span class="built_in">id</span> -g) <span class="variable">$HOME</span>/.kube/config</span><br><span class="line"></span><br><span class="line">Alternatively, <span class="keyword">if</span> you are the root user, you can run:</span><br><span class="line"></span><br><span class="line">  <span class="built_in">export</span> KUBECONFIG=/etc/kubernetes/admin.conf</span><br><span class="line"></span><br><span class="line">You should now deploy a pod network to the cluster.</span><br><span class="line">Run <span class="string">&quot;kubectl apply -f [podnetwork].yaml&quot;</span> with one of the options listed at:</span><br><span class="line">  https://kubernetes.io/docs/concepts/cluster-administration/addons/</span><br><span class="line"></span><br><span class="line">Then you can <span class="built_in">join</span> any number of worker nodes by running the following on each as root:</span><br><span class="line"></span><br><span class="line">kubeadm <span class="built_in">join</span> 192.168.31.60:6443 --token aop3y1.858jqah2hpknu8yg \</span><br><span class="line">--discovery-token-ca-cert-hash sha256:05288f496fa271f180f87d88bfadfb8be13c64be2f4fa9081f464d42de572ab3</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å¦‚æœ <code>kubelet</code> æ²¡æœ‰èµ·æ¥ï¼Œä¼šæŠ¥é”™ï¼Œæ‰€ä»¥åœ¨ä¸Šé¢å®‰è£…å¥½æ‰€æœ‰è½¯ä»¶åï¼Œæœ€å¥½é‡å¯ä¸€ä¸‹ç³»ç»Ÿç¡®ä¿æœåŠ¡æ­£å¸¸å¯åŠ¨</p><p>è¿™é‡Œç‰¹åˆ«æŒ‡å®šäº†ç”¨ <code>cri-dockerd</code> æ–¹æ¡ˆï¼Œå› ä¸ºé»˜è®¤æ˜¯åŸºäº <code>containerd</code> çš„</p><p>ä¹Ÿå¯ä»¥çœ‹åˆ°ç›¸å…³çš„ docker é•œåƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ docker images</span><br><span class="line">REPOSITORY                                TAG        IMAGE ID       CREATED        SIZE</span><br><span class="line">registry.k8s.io/kube-apiserver            v1.31.4    bdc2eadbf366   11 days ago    94.2MB</span><br><span class="line">registry.k8s.io/kube-controller-manager   v1.31.4    359b9f230732   11 days ago    88.4MB</span><br><span class="line">registry.k8s.io/kube-scheduler            v1.31.4    3a66234066fe   11 days ago    67.4MB</span><br><span class="line">registry.k8s.io/kube-proxy                v1.31.4    ebf80573666f   11 days ago    91.5MB</span><br><span class="line">registry.k8s.io/coredns/coredns           v1.11.3    c69fa2e9cbf5   4 months ago   61.8MB</span><br><span class="line">registry.k8s.io/etcd                      3.5.15-0   2e96e5913fc0   4 months ago   148MB</span><br><span class="line">registry.k8s.io/pause                     3.10       873ed7510279   7 months ago   736kB</span><br><span class="line">registry.k8s.io/pause                     3.9        e6f181688397   2 years ago    744kB</span><br></pre></td></tr></table></figure><p>è®¾ç½® kube configï¼ŒæŒ‰ç…§ä¸Šé¢å‘½ä»¤è·‘ä¸‰æ¡å‘½ä»¤å³å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$HOME</span>/.kube</span><br><span class="line">sudo <span class="built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="variable">$HOME</span>/.kube/config</span><br><span class="line">sudo <span class="built_in">chown</span> $(<span class="built_in">id</span> -u):$(<span class="built_in">id</span> -g) <span class="variable">$HOME</span>/.kube/config</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸è®¾ç½® kube configï¼Œæ­¤æ—¶å¦‚æœç›´æ¥è·‘ kubectl å‘½ä»¤ï¼Œä¼šæœ‰ç±»ä¼¼ä¸‹é¢çš„é”™è¯¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The connection to the server localhost:8080 was refused - did you specify the right host or port?</span><br></pre></td></tr></table></figure><p>å› ä¸º kubectl æ²Ÿé€š K8sï¼Œéœ€è¦çŸ¥é“è®¿é—®å“ªä¸ªåœ°å€</p><p>æˆ–è€…æƒé™è®¾ç½®å¾—ä¸å¯¹ï¼Œä¹Ÿæ˜¯ä¼šæŠ¥é”™çš„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">error: error loading config file <span class="string">&quot;/home/linweiyuan/.kube/config&quot;</span>: open /home/linweiyuan/.kube/config: permission denied</span><br></pre></td></tr></table></figure><p>é…ç½®å¥½åï¼Œå†æ‰§è¡Œ kubectl å‘½ä»¤ï¼Œå°±å¯ä»¥æ­£å¸¸è¿”å›æ•°æ®äº†</p><p>ä½†æ­¤æ—¶é›†ç¾¤æ˜¯ <code>NotReady</code> çš„ï¼Œå› ä¸ºæ²¡æœ‰è®¾ç½®ç½‘ç»œæ’ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ kgno</span><br><span class="line">NAME        STATUS     ROLES           AGE   VERSION</span><br><span class="line">archlinux   NotReady   control-plane   18s   v1.31.3</span><br><span class="line"></span><br><span class="line">âœ  ~ kgp -A</span><br><span class="line">NAMESPACE     NAME                                READY   STATUS    RESTARTS   AGE</span><br><span class="line">kube-system   coredns-7c65d6cfc9-rnj6q            0/1     Pending   0          3m26s</span><br><span class="line">kube-system   coredns-7c65d6cfc9-v74bc            0/1     Pending   0          3m26s</span><br><span class="line">kube-system   etcd-archlinux                      1/1     Running   21         3m33s</span><br><span class="line">kube-system   kube-apiserver-archlinux            1/1     Running   21         3m34s</span><br><span class="line">kube-system   kube-controller-manager-archlinux   1/1     Running   18         3m33s</span><br><span class="line">kube-system   kube-scheduler-archlinux            1/1     Running   18         3m33s</span><br></pre></td></tr></table></figure><p>æœ‰å¾ˆå¤šç½‘ç»œæ’ä»¶å¯ä»¥ç”¨ï¼Œè¿™é‡Œç”¨ wiki é‡Œæ¨èçš„ï¼Œå« <code>cilium</code>ï¼Œè¿™ä¸ªéœ€è¦åœ¨åˆå§‹åŒ–é›†ç¾¤æ—¶åŠ ä¸Š <code>--skip-phases=addon/kube-proxy</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ sudo pacman -S cilium-cli</span><br><span class="line">warning: cilium-cli-0.16.21-1 is up to <span class="built_in">date</span> -- reinstalling</span><br><span class="line">resolving dependencies...</span><br><span class="line">looking <span class="keyword">for</span> conflicting packages...</span><br><span class="line"></span><br><span class="line">Package (1)       Old Version  New Version  Net Change</span><br><span class="line"></span><br><span class="line">extra/cilium-cli  0.16.21-1    0.16.21-1      0.00 MiB</span><br><span class="line"></span><br><span class="line">Total Installed Size:  175.37 MiB</span><br><span class="line">Net Upgrade Size:        0.00 MiB</span><br><span class="line"></span><br><span class="line">:: Proceed with installation? [Y/n]</span><br><span class="line">(1/1) checking keys <span class="keyword">in</span> keyring                                                                                   [--------------------------------------------------------------------] 100%</span><br><span class="line">(1/1) checking package integrity                                                                                 [--------------------------------------------------------------------] 100%</span><br><span class="line">(1/1) loading package files                                                                                      [--------------------------------------------------------------------] 100%</span><br><span class="line">(1/1) checking <span class="keyword">for</span> file conflicts                                                                                [--------------------------------------------------------------------] 100%</span><br><span class="line">:: Processing package changes...</span><br><span class="line">(1/1) reinstalling cilium-cli                                                                                    [--------------------------------------------------------------------] 100%</span><br><span class="line">:: Running post-transaction hooks...</span><br><span class="line">(1/2) Arming ConditionNeedsUpdate...</span><br><span class="line">(2/2) Refreshing py3status arch_updates module...</span><br><span class="line"></span><br><span class="line">âœ  ~ cilium-cli status</span><br><span class="line">    /Â¯Â¯\</span><br><span class="line"> /Â¯Â¯\__/Â¯Â¯\    Cilium:             1 errors</span><br><span class="line"> \__/Â¯Â¯\__/    Operator:           disabled</span><br><span class="line"> /Â¯Â¯\__/Â¯Â¯\    Envoy DaemonSet:    disabled (using embedded mode)</span><br><span class="line"> \__/Â¯Â¯\__/    Hubble Relay:       disabled</span><br><span class="line">    \__/       ClusterMesh:        disabled</span><br><span class="line"></span><br><span class="line">Containers:            cilium</span><br><span class="line">                       cilium-operator</span><br><span class="line">Cluster Pods:          0/3 managed by Cilium</span><br><span class="line">Helm chart version:</span><br><span class="line">Errors:                cilium    cilium    daemonsets.apps <span class="string">&quot;cilium&quot;</span> not found</span><br><span class="line">status check failed: [daemonsets.apps <span class="string">&quot;cilium&quot;</span> not found, unable to retrieve ConfigMap <span class="string">&quot;cilium-config&quot;</span>: configmaps <span class="string">&quot;cilium-config&quot;</span> not found]</span><br><span class="line"></span><br><span class="line">âœ  ~ cilium-cli install</span><br><span class="line">â„¹ï¸  Using Cilium version 1.16.4</span><br><span class="line">ğŸ”® Auto-detected cluster name: kubernetes</span><br><span class="line">ğŸ”® Auto-detected kube-proxy has not been installed</span><br><span class="line">â„¹ï¸  Cilium will fully replace all functionalities of kube-proxy</span><br><span class="line"></span><br><span class="line">âœ  ~ cilium-cli status</span><br><span class="line">    /Â¯Â¯\</span><br><span class="line"> /Â¯Â¯\__/Â¯Â¯\    Cilium:             OK</span><br><span class="line"> \__/Â¯Â¯\__/    Operator:           OK</span><br><span class="line"> /Â¯Â¯\__/Â¯Â¯\    Envoy DaemonSet:    OK</span><br><span class="line"> \__/Â¯Â¯\__/    Hubble Relay:       disabled</span><br><span class="line">    \__/       ClusterMesh:        disabled</span><br><span class="line"></span><br><span class="line">DaemonSet              cilium             Desired: 1, Ready: 1/1, Available: 1/1</span><br><span class="line">DaemonSet              cilium-envoy       Desired: 1, Ready: 1/1, Available: 1/1</span><br><span class="line">Deployment             cilium-operator    Desired: 1, Ready: 1/1, Available: 1/1</span><br><span class="line">Containers:            cilium             Running: 1</span><br><span class="line">                       cilium-envoy       Running: 1</span><br><span class="line">                       cilium-operator    Running: 1</span><br><span class="line">Cluster Pods:          2/2 managed by Cilium</span><br><span class="line">Helm chart version:    1.16.4</span><br><span class="line">Image versions         cilium             quay.io/cilium/cilium:v1.16.4@sha256:d55ec38938854133e06739b1af237932b9c4dd4e75e9b7b2ca3acc72540a44bf: 1</span><br><span class="line">                       cilium-envoy       quay.io/cilium/cilium-envoy:v1.30.7-1731393961-97edc2815e2c6a174d3d12e71731d54f5d32ea16@sha256:0287b36f70cfbdf54f894160082f4f94d1ee1fb10389f3a95baa6c8e448586ed: 1</span><br><span class="line">                       cilium-operator    quay.io/cilium/operator-generic:v1.16.4@sha256:c55a7cbe19fe0b6b28903a085334edb586a3201add9db56d2122c8485f7a51c5: 1</span><br></pre></td></tr></table></figure><p>æ–°èµ·äº†å‡ ä¸ªæ–° <code>pod</code>ï¼Œå¹¶ä¸”çŠ¶æ€ä¹Ÿæ˜¯ <code>Ready</code> äº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ kgp -A</span><br><span class="line">NAMESPACE     NAME                                READY   STATUS    RESTARTS   AGE</span><br><span class="line">kube-system   cilium-envoy-qljvg                  1/1     Running   0          68s</span><br><span class="line">kube-system   cilium-fmkdr                        1/1     Running   0          68s</span><br><span class="line">kube-system   cilium-operator-6566687bbb-xnhf6    1/1     Running   0          68s</span><br><span class="line">kube-system   coredns-7c65d6cfc9-89b5h            1/1     Running   0          2m25s</span><br><span class="line">kube-system   coredns-7c65d6cfc9-n95pt            1/1     Running   0          2m25s</span><br><span class="line">kube-system   etcd-archlinux                      1/1     Running   21         2m32s</span><br><span class="line">kube-system   kube-apiserver-archlinux            1/1     Running   21         2m32s</span><br><span class="line">kube-system   kube-controller-manager-archlinux   1/1     Running   18         2m32s</span><br><span class="line">kube-system   kube-scheduler-archlinux            1/1     Running   18         2m32s</span><br><span class="line"></span><br><span class="line">âœ  ~ kgno</span><br><span class="line">NAME        STATUS   ROLES           AGE     VERSION</span><br><span class="line">archlinux   Ready    control-plane   6m36s   v1.31.3</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶åªæœ‰ä¸€ä¸ª control-plane èŠ‚ç‚¹ï¼Œé»˜è®¤æ˜¯ä¸ç»™éƒ¨ç½²çš„ï¼Œåªèƒ½ä¸‹å‘ç»™ worker èŠ‚ç‚¹ï¼Œå¯ä»¥æ‰‹åŠ¨å–æ¶ˆè¿™ä¸ªé™åˆ¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ k taint node archlinux node-role.kubernetes.io/control-plane-</span><br><span class="line">node/archlinux untainted</span><br></pre></td></tr></table></figure><p>åé¢å°±å¯ä»¥æ­£å¸¸éƒ¨ç½²äº†</p><p>ä½†æ˜¯ï¼ï¼ï¼</p><p>å¾ˆå¥½è¿™æ’ä»¶ï¼Œä½¿æˆ‘çš„å¤§é¹…å¤±è´¥ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯é‚£ä¸ª <code>eBPF</code> å¯¼è‡´çš„</p><p>å¯¼è‡´æ‹‰ä¸åˆ°é•œåƒæ¥æµ‹è¯•ï¼Œå¼ƒå‘</p><p>å¸è½½</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ cilium-cli uninstall</span><br><span class="line">ğŸ”¥ Deleting pods <span class="keyword">in</span> cilium-test namespace...</span><br><span class="line">ğŸ”¥ Deleting cilium-test namespace...</span><br><span class="line">âŒ› Uninstalling Cilium</span><br><span class="line"></span><br><span class="line">âœ  ~ k drain archlinux --delete-emptydir-data --force --ignore-daemonsets</span><br><span class="line">node/archlinux cordoned</span><br><span class="line">evicting pod kube-system/coredns-7c65d6cfc9-tjql6</span><br><span class="line">evicting pod kube-system/cilium-zwg6k</span><br><span class="line">evicting pod kube-system/coredns-7c65d6cfc9-j5rm2</span><br><span class="line">pod/cilium-zwg6k evicted</span><br><span class="line">pod/coredns-7c65d6cfc9-j5rm2 evicted</span><br><span class="line">pod/coredns-7c65d6cfc9-tjql6 evicted</span><br><span class="line">node/archlinux drained</span><br><span class="line"></span><br><span class="line">âœ  ~ sudo kubeadm reset --cri-socket unix:///var/run/cri-dockerd.sock</span><br><span class="line">[reset] Reading configuration from the cluster...</span><br><span class="line">[reset] FYI: You can look at this config file with <span class="string">&#x27;kubectl -n kube-system get cm kubeadm-config -o yaml&#x27;</span></span><br><span class="line">W1224 00:58:29.972845    6572 configset.go:78] Warning: No kubeproxy.config.k8s.io/v1alpha1 config is loaded. Continuing without it: configmaps <span class="string">&quot;kube-proxy&quot;</span> not found</span><br><span class="line">W1224 00:58:30.019313    6572 preflight.go:56] [reset] WARNING: Changes made to this host by <span class="string">&#x27;kubeadm init&#x27;</span> or <span class="string">&#x27;kubeadm join&#x27;</span> will be reverted.</span><br><span class="line">[reset] Are you sure you want to proceed? [y/N]: y</span><br><span class="line">[preflight] Running pre-flight checks</span><br><span class="line">[reset] Deleted contents of the etcd data directory: /var/lib/etcd</span><br><span class="line">[reset] Stopping the kubelet service</span><br><span class="line">[reset] Unmounting mounted directories <span class="keyword">in</span> <span class="string">&quot;/var/lib/kubelet&quot;</span></span><br><span class="line">[reset] Deleting contents of directories: [/etc/kubernetes/manifests /var/lib/kubelet /etc/kubernetes/pki]</span><br><span class="line">[reset] Deleting files: [/etc/kubernetes/admin.conf /etc/kubernetes/super-admin.conf /etc/kubernetes/kubelet.conf /etc/kubernetes/bootstrap-kubelet.conf /etc/kubernetes/controller-manager.conf /etc/kubernetes/scheduler.conf]</span><br><span class="line"></span><br><span class="line">The reset process does not clean CNI configuration. To <span class="keyword">do</span> so, you must remove /etc/cni/net.d</span><br><span class="line"></span><br><span class="line">The reset process does not reset or clean up iptables rules or IPVS tables.</span><br><span class="line">If you wish to reset iptables, you must <span class="keyword">do</span> so manually by using the <span class="string">&quot;iptables&quot;</span> <span class="built_in">command</span>.</span><br><span class="line"></span><br><span class="line">If your cluster was setup to utilize IPVS, run ipvsadm --clear (or similar)</span><br><span class="line">to reset your system<span class="string">&#x27;s IPVS tables.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">The reset process does not clean your kubeconfig files and you must remove them manually.</span></span><br><span class="line"><span class="string">Please, check the contents of the $HOME/.kube/config file.</span></span><br></pre></td></tr></table></figure><hr><p>ä¸‹é¢è¿˜æœ‰ç›´æ¥åŸºäº containerd çš„ç‰ˆæœ¬ï¼Œè¿™ç§æ–¹æ¡ˆä¸‹ï¼Œdocker å’Œç›¸å…³çš„åŒ…å°±ä¸éœ€è¦å†å®‰è£…äº†</p><p>å®‰è£… <code>containerd</code>ï¼Œå¦‚æœå®‰è£…äº† <code>docker</code>ï¼Œè‡ªåŠ¨ä¼šåŒ…å«äº†è¿™ä¸ªåŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S containerd</span><br></pre></td></tr></table></figure><p>è®¾ç½®å¼€æœºè‡ªå¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> --now containerd</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ– K8sï¼ˆä¸åŠ  <code>--cri-socket</code> é»˜è®¤å°±æ˜¯è¿™ç§æ–¹æ¡ˆï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo kubeadm init --skip-phases=addon/kube-proxy</span><br></pre></td></tr></table></figure><p>åé¢å°±éƒ½å·®ä¸å¤šäº†</p><hr><h3 id="Docker-Desktop"><a href="#Docker-Desktop" class="headerlink" title="Docker Desktop"></a><a href="https://docs.docker.com/desktop/setup/install/linux/">Docker Desktop</a></h3><p>ç»“è®ºï¼šå›¾å½¢åŒ–ç•Œé¢ï¼Œæ¯”è¾ƒå®¹æ˜“ä¸Šæ‰‹ï¼Œä½†æ˜¯è¿™ä¸ªåŒ…æ˜¯åœ¨ aur é‡Œçš„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y -S docker-desktop</span><br></pre></td></tr></table></figure><p>ç›´æ¥ç‚¹ç‚¹ç‚¹å°±å®Œäº‹äº†</p><p><img src="/2024/12/22/Arch-Linux-%E5%AE%89%E8%A3%85-Kubernetes-%E7%9A%84%E5%87%A0%E7%A7%8D%E5%A7%BF%E5%8A%BF/docker-desktop-k8s.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ kgno</span><br><span class="line">NAME             STATUS   ROLES           AGE   VERSION</span><br><span class="line">docker-desktop   Ready    control-plane   49s   v1.30.5</span><br><span class="line"></span><br><span class="line">âœ  ~ kgp -A</span><br><span class="line">NAMESPACE     NAME                                     READY   STATUS    RESTARTS   AGE</span><br><span class="line">kube-system   coredns-55cb58b774-lqj84                 1/1     Running   0          43s</span><br><span class="line">kube-system   coredns-55cb58b774-pgnz2                 1/1     Running   0          43s</span><br><span class="line">kube-system   etcd-docker-desktop                      1/1     Running   11         41s</span><br><span class="line">kube-system   kube-apiserver-docker-desktop            1/1     Running   11         41s</span><br><span class="line">kube-system   kube-controller-manager-docker-desktop   1/1     Running   11         44s</span><br><span class="line">kube-system   kube-proxy-d5t8n                         1/1     Running   0          44s</span><br><span class="line">kube-system   kube-scheduler-docker-desktop            1/1     Running   11         40s</span><br><span class="line">kube-system   storage-provisioner                      1/1     Running   0          41s</span><br><span class="line">kube-system   vpnkit-controller                        1/1     Running   0          41s</span><br></pre></td></tr></table></figure><p>åç»­å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ k create deployment --image nginx:alpine nginx</span><br><span class="line">deployment.apps/nginx created</span><br><span class="line"></span><br><span class="line">âœ  ~ kgp</span><br><span class="line">NAME                     READY   STATUS    RESTARTS   AGE</span><br><span class="line">nginx-6f564d4fd9-5b9vh   1/1     Running   0          3s</span><br><span class="line"></span><br><span class="line">âœ  ~ kgs</span><br><span class="line">NAME         TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE</span><br><span class="line">kubernetes   ClusterIP   10.96.0.1    &lt;none&gt;        443/TCP   2m6s</span><br><span class="line"></span><br><span class="line">âœ  ~ k expose deployment nginx --<span class="built_in">type</span> NodePort --port 80</span><br><span class="line">service/nginx exposed</span><br><span class="line"></span><br><span class="line">âœ  ~ kgs</span><br><span class="line">NAME         TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE</span><br><span class="line">kubernetes   ClusterIP   10.96.0.1       &lt;none&gt;        443/TCP        2m22s</span><br><span class="line">nginx        NodePort    10.98.146.118   &lt;none&gt;        80:31343/TCP   7s</span><br><span class="line"></span><br><span class="line">âœ  ~ curl 127.0.0.1:31343</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;<span class="built_in">head</span>&gt;</span><br><span class="line">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">html &#123; color-scheme: light dark; &#125;</span><br><span class="line">body &#123; width: 35em; margin: 0 auto;</span><br><span class="line">font-family: Tahoma, Verdana, Arial, sans-serif; &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;</span><br><span class="line">&lt;p&gt;If you see this page, the nginx web server is successfully installed and</span><br><span class="line">working. Further configuration is required.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;For online documentation and support please refer to</span><br><span class="line">&lt;a href=<span class="string">&quot;http://nginx.org/&quot;</span>&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;</span><br><span class="line">Commercial support is available at</span><br><span class="line">&lt;a href=<span class="string">&quot;http://nginx.com/&quot;</span>&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;&lt;em&gt;Thank you <span class="keyword">for</span> using nginx.&lt;/em&gt;&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>å¯¹æ–°æ‰‹æå…¶å‹å¥½ï¼Œå¾ˆæ¨èï¼Œä¸ç”¨ç«¯å£æ˜ å°„æ¥æ˜ å°„å»</p><p>å¸è½½</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Rs docker-desktop</span><br></pre></td></tr></table></figure><hr><h3 id="Minikube"><a href="#Minikube" class="headerlink" title="Minikube"></a><a href="https://kubernetes.io/docs/tutorials/hello-minikube/">Minikube</a></h3><p>å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S minikube</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¹Ÿæ¯”è¾ƒç®€å•</p><p>åˆ›å»ºé›†ç¾¤æ”¯æŒå¾ˆå¤š <code>Driver</code>ï¼Œæ¯”å¦‚</p><ul><li><code>virtualbox</code></li><li><code>kvm2</code></li><li><code>qemu2</code></li><li><code>qemu</code></li><li><code>vmware</code></li><li><code>none</code></li><li><code>docker</code></li><li><code>podman</code></li><li><code>ssh</code></li></ul><p>è¿™é‡Œé€‰æ‹© <code>docker</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ minikube -d docker start</span><br><span class="line">ğŸ˜„  minikube v1.34.0 on Arch</span><br><span class="line">âœ¨  Using the docker driver based on user configuration</span><br><span class="line">ğŸ“Œ  Using Docker driver with root privileges</span><br><span class="line">ğŸ‘  Starting <span class="string">&quot;minikube&quot;</span> primary control-plane node <span class="keyword">in</span> <span class="string">&quot;minikube&quot;</span> cluster</span><br><span class="line">ğŸšœ  Pulling base image v0.0.45 ...</span><br><span class="line">ğŸ”¥  Creating docker container (CPUs=2, Memory=16000MB) ...</span><br><span class="line">ğŸ³  Preparing Kubernetes v1.31.0 on Docker 27.2.0 ...</span><br><span class="line">    â–ª Generating certificates and keys ...</span><br><span class="line">    â–ª Booting up control plane ...</span><br><span class="line">    â–ª Configuring RBAC rules ...</span><br><span class="line">ğŸ”—  Configuring bridge CNI (Container Networking Interface) ...</span><br><span class="line">ğŸ”  Verifying Kubernetes components...</span><br><span class="line">    â–ª Using image gcr.io/k8s-minikube/storage-provisioner:v5</span><br><span class="line">ğŸŒŸ  Enabled addons: storage-provisioner, default-storageclass</span><br><span class="line">ğŸ„  Done! kubectl is now configured to use <span class="string">&quot;minikube&quot;</span> cluster and <span class="string">&quot;default&quot;</span> namespace by default</span><br><span class="line"></span><br><span class="line">âœ  ~ kgno</span><br><span class="line">NAME       STATUS   ROLES           AGE     VERSION</span><br><span class="line">minikube   Ready    control-plane   2m50s   v1.31.0</span><br><span class="line"></span><br><span class="line">âœ  ~ kgp -A</span><br><span class="line">NAMESPACE     NAME                               READY   STATUS    RESTARTS        AGE</span><br><span class="line">kube-system   coredns-6f6b679f8f-sdnh6           1/1     Running   0               2m44s</span><br><span class="line">kube-system   etcd-minikube                      1/1     Running   0               2m50s</span><br><span class="line">kube-system   kube-apiserver-minikube            1/1     Running   0               2m50s</span><br><span class="line">kube-system   kube-controller-manager-minikube   1/1     Running   0               2m50s</span><br><span class="line">kube-system   kube-proxy-n5pjz                   1/1     Running   0               2m45s</span><br><span class="line">kube-system   kube-scheduler-minikube            1/1     Running   0               2m50s</span><br><span class="line">kube-system   storage-provisioner                1/1     Running   1 (2m45s ago)   2m49s</span><br></pre></td></tr></table></figure><p>å°±å®Œäº‹äº†</p><p>è¿˜è‡ªå¸¦ä¸€å †é™„åŠ ç»„ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ minikube addons list</span><br><span class="line">|-----------------------------|----------|--------------|--------------------------------|</span><br><span class="line">|         ADDON NAME          | PROFILE  |    STATUS    |           MAINTAINER           |</span><br><span class="line">|-----------------------------|----------|--------------|--------------------------------|</span><br><span class="line">| ambassador                  | minikube | disabled     | 3rd party (Ambassador)         |</span><br><span class="line">| auto-pause                  | minikube | disabled     | minikube                       |</span><br><span class="line">| cloud-spanner               | minikube | disabled     | Google                         |</span><br><span class="line">| csi-hostpath-driver         | minikube | disabled     | Kubernetes                     |</span><br><span class="line">| dashboard                   | minikube | disabled     | Kubernetes                     |</span><br><span class="line">| default-storageclass        | minikube | enabled âœ…   | Kubernetes                     |</span><br><span class="line">| efk                         | minikube | disabled     | 3rd party (Elastic)            |</span><br><span class="line">| freshpod                    | minikube | disabled     | Google                         |</span><br><span class="line">| gcp-auth                    | minikube | disabled     | Google                         |</span><br><span class="line">| gvisor                      | minikube | disabled     | minikube                       |</span><br><span class="line">| headlamp                    | minikube | disabled     | 3rd party (kinvolk.io)         |</span><br><span class="line">| helm-tiller                 | minikube | disabled     | 3rd party (Helm)               |</span><br><span class="line">| inaccel                     | minikube | disabled     | 3rd party (InAccel             |</span><br><span class="line">|                             |          |              | [info@inaccel.com])            |</span><br><span class="line">| ingress                     | minikube | disabled     | Kubernetes                     |</span><br><span class="line">| ingress-dns                 | minikube | disabled     | minikube                       |</span><br><span class="line">| inspektor-gadget            | minikube | disabled     | 3rd party                      |</span><br><span class="line">|                             |          |              | (inspektor-gadget.io)          |</span><br><span class="line">| istio                       | minikube | disabled     | 3rd party (Istio)              |</span><br><span class="line">| istio-provisioner           | minikube | disabled     | 3rd party (Istio)              |</span><br><span class="line">| kong                        | minikube | disabled     | 3rd party (Kong HQ)            |</span><br><span class="line">| kubeflow                    | minikube | disabled     | 3rd party                      |</span><br><span class="line">| kubevirt                    | minikube | disabled     | 3rd party (KubeVirt)           |</span><br><span class="line">| logviewer                   | minikube | disabled     | 3rd party (unknown)            |</span><br><span class="line">| metallb                     | minikube | disabled     | 3rd party (MetalLB)            |</span><br><span class="line">| metrics-server              | minikube | disabled     | Kubernetes                     |</span><br><span class="line">| nvidia-device-plugin        | minikube | disabled     | 3rd party (NVIDIA)             |</span><br><span class="line">| nvidia-driver-installer     | minikube | disabled     | 3rd party (NVIDIA)             |</span><br><span class="line">| nvidia-gpu-device-plugin    | minikube | disabled     | 3rd party (NVIDIA)             |</span><br><span class="line">| olm                         | minikube | disabled     | 3rd party (Operator Framework) |</span><br><span class="line">| pod-security-policy         | minikube | disabled     | 3rd party (unknown)            |</span><br><span class="line">| portainer                   | minikube | disabled     | 3rd party (Portainer.io)       |</span><br><span class="line">| registry                    | minikube | disabled     | minikube                       |</span><br><span class="line">| registry-aliases            | minikube | disabled     | 3rd party (unknown)            |</span><br><span class="line">| registry-creds              | minikube | disabled     | 3rd party (UPMC Enterprises)   |</span><br><span class="line">| storage-provisioner         | minikube | enabled âœ…   | minikube                       |</span><br><span class="line">| storage-provisioner-gluster | minikube | disabled     | 3rd party (Gluster)            |</span><br><span class="line">| storage-provisioner-rancher | minikube | disabled     | 3rd party (Rancher)            |</span><br><span class="line">| volcano                     | minikube | disabled     | third-party (volcano)          |</span><br><span class="line">| volumesnapshots             | minikube | disabled     | Kubernetes                     |</span><br><span class="line">| yakd                        | minikube | disabled     | 3rd party (marcnuri.com)       |</span><br><span class="line">|-----------------------------|----------|--------------|--------------------------------|</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚è¿™æ ·ï¼Œå°±èƒ½è‡ªåŠ¨ä¸‹è½½ dashboard é•œåƒå¹¶æ‰“å¼€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ minikube addons <span class="built_in">enable</span> dashboard</span><br><span class="line">ğŸ’¡  dashboard is an addon maintained by Kubernetes. For any concerns contact minikube on GitHub.</span><br><span class="line">You can view the list of minikube maintainers at: https://github.com/kubernetes/minikube/blob/master/OWNERS</span><br><span class="line">    â–ª Using image docker.io/kubernetesui/dashboard:v2.7.0</span><br><span class="line">    â–ª Using image docker.io/kubernetesui/metrics-scraper:v1.0.8</span><br><span class="line">ğŸ’¡  Some dashboard features require the metrics-server addon. To <span class="built_in">enable</span> all features please run:</span><br><span class="line"></span><br><span class="line">minikube addons <span class="built_in">enable</span> metrics-server</span><br><span class="line"></span><br><span class="line">ğŸŒŸ  The <span class="string">&#x27;dashboard&#x27;</span> addon is enabled</span><br><span class="line"></span><br><span class="line">âœ  ~ kgp -A</span><br><span class="line">NAMESPACE              NAME                                        READY   STATUS    RESTARTS        AGE</span><br><span class="line">kube-system            coredns-6f6b679f8f-sdnh6                    1/1     Running   0               7m47s</span><br><span class="line">kube-system            etcd-minikube                               1/1     Running   0               7m53s</span><br><span class="line">kube-system            kube-apiserver-minikube                     1/1     Running   0               7m53s</span><br><span class="line">kube-system            kube-controller-manager-minikube            1/1     Running   0               7m53s</span><br><span class="line">kube-system            kube-proxy-n5pjz                            1/1     Running   0               7m48s</span><br><span class="line">kube-system            kube-scheduler-minikube                     1/1     Running   0               7m53s</span><br><span class="line">kube-system            storage-provisioner                         1/1     Running   1 (7m48s ago)   7m52s</span><br><span class="line">kubernetes-dashboard   dashboard-metrics-scraper-c5db448b4-mhbxr   1/1     Running   0               3m49s</span><br><span class="line">kubernetes-dashboard   kubernetes-dashboard-695b96c756-d86w9       1/1     Running   0               3m49s</span><br><span class="line"></span><br><span class="line">âœ  ~ minikube dashboard</span><br><span class="line">ğŸ¤”  Verifying dashboard health ...</span><br><span class="line">ğŸš€  Launching proxy ...</span><br><span class="line">ğŸ¤”  Verifying proxy health ...</span><br><span class="line">ğŸ‰  Opening http://127.0.0.1:44639/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/ <span class="keyword">in</span> your default browser...</span><br><span class="line">Opening <span class="keyword">in</span> existing browser session.</span><br></pre></td></tr></table></figure><p><img src="/2024/12/22/Arch-Linux-%E5%AE%89%E8%A3%85-Kubernetes-%E7%9A%84%E5%87%A0%E7%A7%8D%E5%A7%BF%E5%8A%BF/minikube-dashboard.png"></p><p>æœåŠ¡ä¹Ÿæ˜¯ä¸èƒ½ç›´æ¥è®¿é—®æœ¬åœ°çš„ï¼Œè€Œæ˜¯è¦è¿›å…¥ minikube é‡Œé¢ï¼Œæˆ–è€…ç”¨ <code>minikube service list</code> é‡Œçš„é“¾æ¥æ‰å¯ä»¥è®¿é—®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ k create deployment --image nginx:alpine nginx</span><br><span class="line">deployment.apps/nginx created</span><br><span class="line"></span><br><span class="line">âœ  ~ k expose deployment nginx --<span class="built_in">type</span> NodePort --port 80</span><br><span class="line">service/nginx exposed</span><br><span class="line"></span><br><span class="line">âœ  ~ kgs</span><br><span class="line">NAME         TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)        AGE</span><br><span class="line">kubernetes   ClusterIP   10.96.0.1      &lt;none&gt;        443/TCP        8m33s</span><br><span class="line">nginx        NodePort    10.103.106.5   &lt;none&gt;        80:30978/TCP   2s</span><br><span class="line"></span><br><span class="line">âœ  ~ curl 127.0.0.1:30978</span><br><span class="line">curl: (7) Failed to connect to 127.0.0.1 port 30978 after 0 ms: Could not connect to server</span><br><span class="line"></span><br><span class="line">âœ  ~ minikube ssh</span><br><span class="line">docker@minikube:~$ curl 127.0.0.1:30978</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;<span class="built_in">head</span>&gt;</span><br><span class="line">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">html &#123; color-scheme: light dark; &#125;</span><br><span class="line">body &#123; width: 35em; margin: 0 auto;</span><br><span class="line">font-family: Tahoma, Verdana, Arial, sans-serif; &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;</span><br><span class="line">&lt;p&gt;If you see this page, the nginx web server is successfully installed and</span><br><span class="line">working. Further configuration is required.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;For online documentation and support please refer to</span><br><span class="line">&lt;a href=<span class="string">&quot;http://nginx.org/&quot;</span>&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;</span><br><span class="line">Commercial support is available at</span><br><span class="line">&lt;a href=<span class="string">&quot;http://nginx.com/&quot;</span>&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;&lt;em&gt;Thank you <span class="keyword">for</span> using nginx.&lt;/em&gt;&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">docker@minikube:~$</span><br><span class="line"></span><br><span class="line">âœ  ~ minikube service list</span><br><span class="line">|----------------------|---------------------------|--------------|---------------------------|</span><br><span class="line">|      NAMESPACE       |           NAME            | TARGET PORT  |            URL            |</span><br><span class="line">|----------------------|---------------------------|--------------|---------------------------|</span><br><span class="line">| default              | kubernetes                | No node port |                           |</span><br><span class="line">| default              | nginx                     |           80 | http://192.168.49.2:30978 |</span><br><span class="line">| kube-system          | kube-dns                  | No node port |                           |</span><br><span class="line">| kubernetes-dashboard | dashboard-metrics-scraper | No node port |                           |</span><br><span class="line">| kubernetes-dashboard | kubernetes-dashboard      | No node port |                           |</span><br><span class="line">|----------------------|---------------------------|--------------|---------------------------|</span><br><span class="line"></span><br><span class="line">âœ  ~ curl http://192.168.49.2:30978</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;<span class="built_in">head</span>&gt;</span><br><span class="line">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">html &#123; color-scheme: light dark; &#125;</span><br><span class="line">body &#123; width: 35em; margin: 0 auto;</span><br><span class="line">font-family: Tahoma, Verdana, Arial, sans-serif; &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;</span><br><span class="line">&lt;p&gt;If you see this page, the nginx web server is successfully installed and</span><br><span class="line">working. Further configuration is required.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;For online documentation and support please refer to</span><br><span class="line">&lt;a href=<span class="string">&quot;http://nginx.org/&quot;</span>&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;</span><br><span class="line">Commercial support is available at</span><br><span class="line">&lt;a href=<span class="string">&quot;http://nginx.com/&quot;</span>&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;&lt;em&gt;Thank you <span class="keyword">for</span> using nginx.&lt;/em&gt;&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>æ­¤å¤–è¿˜æœ‰å¾ˆå¤šå®ç”¨çš„å¼€ç®±å³ç”¨çš„å‘½ä»¤ï¼Œä¸ªäººä¹Ÿæ˜¯æ¯”è¾ƒæ¨è</p><p>å¸è½½</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ minikube delete</span><br><span class="line">ğŸ”¥  Deleting <span class="string">&quot;minikube&quot;</span> <span class="keyword">in</span> docker ...</span><br><span class="line">ğŸ”¥  Deleting container <span class="string">&quot;minikube&quot;</span> ...</span><br><span class="line">ğŸ”¥  Removing /home/linweiyuan/.minikube/machines/minikube ...</span><br><span class="line">ğŸ’€  Removed all traces of the <span class="string">&quot;minikube&quot;</span> cluster.</span><br></pre></td></tr></table></figure>]]>
    </content>
    <id>https://linweiyuan.github.io/2024/12/22/Arch-Linux-%E5%AE%89%E8%A3%85-Kubernetes-%E7%9A%84%E5%87%A0%E7%A7%8D%E5%A7%BF%E5%8A%BF.html</id>
    <link href="https://linweiyuan.github.io/2024/12/22/Arch-Linux-%E5%AE%89%E8%A3%85-Kubernetes-%E7%9A%84%E5%87%A0%E7%A7%8D%E5%A7%BF%E5%8A%BF.html"/>
    <published>2024-12-22T08:05:46.000Z</published>
    <summary>
      <![CDATA[<p>å¾—ç›Šäºä¼˜ç§€çš„ <code>pacman</code>ï¼Œå’Œå¼ºå¤§çš„ <code>AUR</code>ï¼Œå®‰è£…èµ·æ¥æ˜¯æ¯”è¾ƒç®€å•çš„ï¼ˆå½“ç„¶è¿™é‡Œç‰¹æŒ‡æœ¬åœ°å•æœºéƒ¨ç½²æµ‹è¯•ï¼‰</p>
<h3 id="ï¼ˆå¯é€‰ï¼‰æé«˜æ•ˆç‡"><a href="#ï¼ˆå¯é€‰ï¼‰æé«˜æ•ˆç‡" class="headerlink"]]>
    </summary>
    <title>Arch Linux å®‰è£… Kubernetes çš„å‡ ç§å§¿åŠ¿</title>
    <updated>2026-02-13T00:37:43.552Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="æ“ä½œç³»ç»Ÿ" scheme="https://linweiyuan.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    <category term="Arch Linux" scheme="https://linweiyuan.github.io/tags/Arch-Linux/"/>
    <category term="picom" scheme="https://linweiyuan.github.io/tags/picom/"/>
    <content>
      <![CDATA[<ol><li>æ—¥å¸¸æ»šï¼Œå‘ç°ç»ˆç«¯é€æ˜æ— äº†ï¼Œç–‘ä¼¼æ»šæŒ‚</li><li>æŸ¥çœ‹ç³»ç»Ÿå‡çº§æ—¥å¿— <code>/var/log/pacman.log</code>ï¼Œå‘ç°ç¡®å®æ˜¯ç›¸å…³çš„ç»„ä»¶å‡çº§äº†ä¸ªå¤§ç‰ˆæœ¬ <code>[2024-10-06T22:22:37+0800] [ALPM] upgraded picom (11.2-1 -&gt; 12.1-3)</code></li><li>ä¸Š <a href="https://wiki.archlinux.org/title/Picom">wiki</a> çœ‹ä¸‹æœ€æ–°çš„ç”¨æ³•</li><li>è®¾ç½®èƒŒæ™¯è¿è¡Œå’Œå–æ¶ˆåŠ¨ç”»ï¼Œè§£å†³</li></ol><p>åŸé…ç½®ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exec</span> --no-startup-id picom -CGb --config /dev/null</span><br></pre></td></tr></table></figure><p>æ–°é…ç½®ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exec</span> --no-startup-id picom -b --fade-in-step=1 --fade-out-step=1 --fade-delta=0</span><br></pre></td></tr></table></figure>]]>
    </content>
    <id>https://linweiyuan.github.io/2024/10/06/Arch-Linux-%E5%8D%87%E7%BA%A7-picom-%E9%BB%91%E5%B1%8F%E8%A7%A3%E5%86%B3.html</id>
    <link href="https://linweiyuan.github.io/2024/10/06/Arch-Linux-%E5%8D%87%E7%BA%A7-picom-%E9%BB%91%E5%B1%8F%E8%A7%A3%E5%86%B3.html"/>
    <published>2024-10-06T15:34:54.000Z</published>
    <summary>
      <![CDATA[<ol>
<li>æ—¥å¸¸æ»šï¼Œå‘ç°ç»ˆç«¯é€æ˜æ— äº†ï¼Œç–‘ä¼¼æ»šæŒ‚</li>
<li>æŸ¥çœ‹ç³»ç»Ÿå‡çº§æ—¥å¿— <code>/var/log/pacman.log</code>ï¼Œå‘ç°ç¡®å®æ˜¯ç›¸å…³çš„ç»„ä»¶å‡çº§äº†ä¸ªå¤§ç‰ˆæœ¬ <code>[2024-10-06T22:22:37+0800] [ALPM] upgr]]>
    </summary>
    <title>Arch Linux å‡çº§ picom é»‘å±è§£å†³</title>
    <updated>2026-02-13T00:37:43.552Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="æ“ä½œç³»ç»Ÿ" scheme="https://linweiyuan.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    <category term="Arch Linux" scheme="https://linweiyuan.github.io/tags/Arch-Linux/"/>
    <category term="IDEA" scheme="https://linweiyuan.github.io/tags/IDEA/"/>
    <content>
      <![CDATA[<p>å‰ä¸¤å¤©æ»šä¸€ä¸‹ï¼Œå‘ç°æ»šæŒ‚äº†ï¼ŒIDEA ç¤¾åŒºç‰ˆå‡çº§åæ‰“ä¸å¼€äº†</p><p>æŠ¥äº†é”™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Internal error</span><br><span class="line"></span><br><span class="line">ava.lang.RuntimeException: Could not find installation home path. Please make sure bin/idea.properties is present in the installation directory.</span><br><span class="line">    at com.intellij.openapi.application.PathManager.getHomePath(PathManager.java:112)</span><br><span class="line">    at com.intellij.openapi.application.PathManager.getBinDirectories(PathManager.java:145)</span><br><span class="line">    at com.intellij.openapi.application.PathManager.loadProperties(PathManager.java:684)</span><br><span class="line">    at com.intellij.idea.Main.mainImpl(Main.kt:55)</span><br><span class="line">    at com.intellij.idea.Main.main(Main.kt:47)</span><br><span class="line"></span><br><span class="line">-----</span><br><span class="line">JRE: 17.0.12+7 amd64 (Arch Linux)</span><br><span class="line">/usr/lib/jvm/java-17-openjdk</span><br></pre></td></tr></table></figure><p>ä¸åº”è¯¥å•Šï¼Œäºæ˜¯æœäº†æœï¼ŒåŸæ¥æ˜¯ IntelliJ è‡ªå·±çš„é”…ï¼ŒArch è¿˜æ˜¯å¾ˆç¨³çš„</p><p>å®˜æ–¹ä¿®å¤äº†ï¼Œå¹¶ä¸”æ‰“åŒ…åœ¨æµ‹è¯•åº“ï¼Œè¿˜æ²¡æ¨é€ï¼Œå¦‚æœç´§æ€¥å¯ä»¥å…ˆæ‰‹åŠ¨è£…ä¸‹ä»–ä»¬ä¿®å¤åçš„åŒ…ï¼š<a href="https://gitlab.archlinux.org/-/project/35994/uploads/fc0a0ca70abd96fefbea71e618a6e502/intellij-idea-community-edition-4_2024.2.0.1-1-x86_64.pkg.tar.zst">intellij-idea-community-edition-4_2024.2.0.1-1-x86_64.pkg.tar.zst</a></p><p>å‚è€ƒé“¾æ¥ï¼š</p><ul><li><a href="https://www.reddit.com/r/archlinux/comments/1ewqmwb/intellijideacommunityedition_package_just_broke/?rdt=60517">https://www.reddit.com/r/archlinux/comments/1ewqmwb/intellijideacommunityedition_package_just_broke/?rdt=60517</a></li><li><a href="https://youtrack.jetbrains.com/issue/IJPL-160591/Start-Failed-Please-make-sure-bin-idea.properties-is-present-in-the-installation-directory-after-update-to-2024.2">https://youtrack.jetbrains.com/issue/IJPL-160591/Start-Failed-Please-make-sure-bin-idea.properties-is-present-in-the-installation-directory-after-update-to-2024.2</a></li><li><a href="https://bbs.archlinux.org/viewtopic.php?id=298735">https://bbs.archlinux.org/viewtopic.php?id=298735</a></li><li><a href="https://gitlab.archlinux.org/archlinux/packaging/packages/intellij-idea-community-edition/-/issues/6">https://gitlab.archlinux.org/archlinux/packaging/packages/intellij-idea-community-edition/-/issues/6</a></li><li><a href="https://youtrack.jetbrains.com/issue/IJPL-160565/Improve-error-message-for-Start-Failed-Could-not-find-installation-home-path.-Please-make-sure-bin-idea.properties-is-present-in#focus=Comments-27-10354056.0-0">https://youtrack.jetbrains.com/issue/IJPL-160565/Improve-error-message-for-Start-Failed-Could-not-find-installation-home-path.-Please-make-sure-bin-idea.properties-is-present-in#focus=Comments-27-10354056.0-0</a></li><li><a href="https://gitlab.archlinux.org/archlinux/packaging/packages/intellij-idea-community-edition/-/merge_requests/1">https://gitlab.archlinux.org/archlinux/packaging/packages/intellij-idea-community-edition/-/merge_requests/1</a></li><li><a href="https://github.com/JetBrains/intellij-community/pull/2831">https://github.com/JetBrains/intellij-community/pull/2831</a></li></ul>]]>
    </content>
    <id>https://linweiyuan.github.io/2024/08/23/IDEA-%E7%A4%BE%E5%8C%BA%E7%89%88%E6%BB%9A%E6%8C%82.html</id>
    <link href="https://linweiyuan.github.io/2024/08/23/IDEA-%E7%A4%BE%E5%8C%BA%E7%89%88%E6%BB%9A%E6%8C%82.html"/>
    <published>2024-08-23T06:21:35.000Z</published>
    <summary>
      <![CDATA[<p>å‰ä¸¤å¤©æ»šä¸€ä¸‹ï¼Œå‘ç°æ»šæŒ‚äº†ï¼ŒIDEA ç¤¾åŒºç‰ˆå‡çº§åæ‰“ä¸å¼€äº†</p>
<p>æŠ¥äº†é”™</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</]]>
    </summary>
    <title>IDEA ç¤¾åŒºç‰ˆæ»šæŒ‚</title>
    <updated>2026-02-13T00:37:43.557Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="AI" scheme="https://linweiyuan.github.io/categories/AI/"/>
    <category term="LLM" scheme="https://linweiyuan.github.io/tags/LLM/"/>
    <category term="ChatGLM" scheme="https://linweiyuan.github.io/tags/ChatGLM/"/>
    <content>
      <![CDATA[<p>ä»Šå¤©ä¹Ÿæ˜¯å¿ƒè¡€æ¥æ½®ï¼Œæœ¬åœ°æ­å»ºäº†ä¸ª <code>Ollama</code> æ¥ç©ç©</p><p>ç³»ç»Ÿï¼šArch Linux 6.10.2<br>NVIDIA é©±åŠ¨ç‰ˆæœ¬ï¼š555.58.02</p><ol><li>å®‰è£… <code>ollama</code>ï¼Œè¿™é‡Œé€‰æ‹©äº† <code>cuda</code> ç‰ˆæœ¬ï¼Œèƒ½å‘æŒ¥æ˜¾å¡çš„åŠ›é‡</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S ollama-cuda</span><br></pre></td></tr></table></figure><ol start="2"><li>å¯åŠ¨æœåŠ¡</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> --now ollama.service</span><br></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦é…ç½®å…¶ä»–æœåŠ¡è¿›è¡Œè¿œç¨‹è¿æ¥ï¼Œæ¯”å¦‚ docker éƒ¨ç½² <code>open-webui</code>ï¼Œåˆ™éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ <code>ollama.service</code> åŠ ç¯å¢ƒå˜é‡ï¼ŒåŠ ä¸ª <code>OLLAMA_HOST</code>ï¼Œå› ä¸º <code>systemd</code> ä¸è®¤è¯†ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ï¼Œæ‰€ä»¥ä¸èƒ½ä¿®æ”¹ <code>/etc/profile</code> ä¹‹ç±»çš„é…ç½®ï¼Œè€Œæ˜¯è¦å•ç‹¬ä¿®æ”¹ <code>systemd</code> é…ç½®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl edit ollama.service</span><br></pre></td></tr></table></figure><p>åŠ ä¸€æ®µé…ç½®åœ¨ <code>### Editing</code> å’Œ <code>### Edits</code> ä¹‹é—´</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[Service]</span><br><span class="line">Environment=&quot;OLLAMA_HOST=0.0.0.0&quot;</span><br></pre></td></tr></table></figure><p>æ¥ç€ä¸¤éƒ¨æ›²</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart ollama.service</span><br></pre></td></tr></table></figure><p>æœ€åå¯ä»¥æ£€æŸ¥ä¸€ä¸‹ <code>sudo systemctl cat ollama.service</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># /etc/systemd/system/ollama.service</span><br><span class="line">[Unit]</span><br><span class="line">Description=Ollama Service</span><br><span class="line">Wants=network-online.target</span><br><span class="line">After=network.target network-online.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">ExecStart=/usr/bin/ollama serve</span><br><span class="line">WorkingDirectory=/var/lib/ollama</span><br><span class="line">Environment=&quot;HOME=/var/lib/ollama&quot;</span><br><span class="line">User=ollama</span><br><span class="line">Group=ollama</span><br><span class="line">Restart=on-failure</span><br><span class="line">RestartSec=3</span><br><span class="line">Type=simple</span><br><span class="line">PrivateTmp=yes</span><br><span class="line">ProtectSystem=full</span><br><span class="line">ProtectHome=yes</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"></span><br><span class="line"># /etc/systemd/system/ollama.service.d/override.conf</span><br><span class="line">[Service]</span><br><span class="line">Environment=&quot;OLLAMA_HOST=0.0.0.0&quot;</span><br></pre></td></tr></table></figure><p>ï¼ˆè¿™é‡Œä¸å»ºè®®ç›´æ¥ä¿®æ”¹åŸæ¥çš„é…ç½®æ–‡ä»¶ï¼Œç”¨ <code>edit</code> æ¥ä¿®æ”¹ä¼šå¾€åŒå <code>service.d</code> æ–‡ä»¶å¤¹é‡ŒåŠ ä¸€æ®µé…ç½® <code>override.conf</code> ä¼˜å…ˆåŠ è½½ï¼Œè¿™æ ·ä¸æ€•æ”¹çƒ‚äº†åŸæ¥çš„é…ç½®ï¼Œä¹Ÿä¸ä¼šå‡ºç° <code>.pacmew</code> è¿™ç§é—®é¢˜ï¼‰</p><ol start="3"><li>è·‘æ¨¡å‹</li></ol><p>æ¯”å¦‚è·‘ä¸ªé€šä¹‰åƒé—®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ ollama run qwen2</span><br><span class="line">&gt;&gt;&gt; ä½ æ˜¯è°</span><br><span class="line">æˆ‘æ˜¯é˜¿é‡Œäº‘å¼€å‘çš„ä¸€æ¬¾è¶…å¤§è§„æ¨¡è¯­è¨€æ¨¡å‹ï¼Œæˆ‘å«é€šä¹‰åƒé—®ã€‚ä½œä¸ºä¸€ä¸ªAIåŠ©æ‰‹ï¼Œæˆ‘çš„ç›®æ ‡æ˜¯å¸®åŠ©ç”¨æˆ·è·å¾—å‡†ç¡®ã€æœ‰ç”¨çš„ä¿¡æ¯ï¼Œè§£å†³ä»–ä»¬çš„é—®é¢˜å’Œå›°æƒ‘ã€‚æˆ‘ä¼šä¸æ–­å­¦ä¹ å’Œè¿›æ­¥ï¼Œä¸</span><br><span class="line">æ–­æå‡è‡ªå·±çš„èƒ½åŠ›ï¼Œä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„æœåŠ¡ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦å¸®åŠ©ï¼Œè¯·éšæ—¶å‘Šè¯‰æˆ‘ï¼Œæˆ‘ä¼šå°½åŠ›æä¾›æ”¯æŒã€‚</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; Send a message (/? <span class="keyword">for</span> <span class="built_in">help</span>)</span><br></pre></td></tr></table></figure><ol start="4"><li>è·‘ä¸ª <code>open-webui</code></li></ol><p><a href="https://aur.archlinux.org/packages/open-webui-git">AUR</a> ä»“åº“é‡Œæœ‰åŒ…ï¼Œä½†æ˜¯ç¼–è¯‘ä¸è¿‡ï¼Œæ‰€ä»¥æ”¾å¼ƒï¼Œè½¬ <code>docker</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">open-webui:</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">open-webui</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">linweiyuan/open-webui</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">8080</span><span class="string">:8080</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data:/app/backend/data</span></span><br><span class="line">    <span class="attr">extra_hosts:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">host.docker.internal:host-gateway</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br></pre></td></tr></table></figure><ol start="5"><li>æµ‹è¯•ç»“æœ</li></ol><p><img src="/2024/08/03/Ollama-%E6%B5%8B%E8%AF%95/ollama.png"></p><ol start="6"><li><code>Spring AI</code> æµ‹è¯•</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">ai:</span></span><br><span class="line">    <span class="attr">ollama:</span></span><br><span class="line">      <span class="attr">chat:</span></span><br><span class="line">        <span class="attr">model:</span> <span class="string">qwen2</span></span><br></pre></td></tr></table></figure><p>ä¹Ÿæ­£å¸¸</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ http :8080/ai/generate message==ä½ æ˜¯è°</span><br><span class="line">HTTP/1.1 200</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Date: Sat, 03 Aug 2024 16:00:30 GMT</span><br><span class="line">Keep-Alive: <span class="built_in">timeout</span>=60</span><br><span class="line">Transfer-Encoding: chunked</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;generation&quot;</span>: <span class="string">&quot;æˆ‘æ˜¯é˜¿é‡Œäº‘å¼€å‘çš„ä¸€æ¬¾è¶…å¤§è§„æ¨¡è¯­è¨€æ¨¡å‹ï¼Œæˆ‘å«é€šä¹‰åƒé—®ã€‚&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="åä¸½çš„åˆ†å‰²çº¿"><a href="#åä¸½çš„åˆ†å‰²çº¿" class="headerlink" title="åä¸½çš„åˆ†å‰²çº¿"></a>åä¸½çš„åˆ†å‰²çº¿</h1><p>éš¾ç»·</p><p><img src="/2024/08/03/Ollama-%E6%B5%8B%E8%AF%95/phi3.jpg"></p>]]>
    </content>
    <id>https://linweiyuan.github.io/2024/08/03/Ollama-%E6%B5%8B%E8%AF%95.html</id>
    <link href="https://linweiyuan.github.io/2024/08/03/Ollama-%E6%B5%8B%E8%AF%95.html"/>
    <published>2024-08-03T15:10:38.000Z</published>
    <summary>
      <![CDATA[<p>ä»Šå¤©ä¹Ÿæ˜¯å¿ƒè¡€æ¥æ½®ï¼Œæœ¬åœ°æ­å»ºäº†ä¸ª <code>Ollama</code> æ¥ç©ç©</p>
<p>ç³»ç»Ÿï¼šArch Linux 6.10.2<br>NVIDIA é©±åŠ¨ç‰ˆæœ¬ï¼š555.58.02</p>
<ol>
<li>å®‰è£… <code>ollama</code>ï¼Œè¿™é‡Œé€‰æ‹©äº† <c]]>
    </summary>
    <title>Ollama æµ‹è¯•</title>
    <updated>2026-02-13T00:37:43.560Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="ç¨‹åºè®¾è®¡" scheme="https://linweiyuan.github.io/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/"/>
    <category term="Rust" scheme="https://linweiyuan.github.io/tags/Rust/"/>
    <content>
      <![CDATA[<p>ä»Šå¤©ä¹Ÿæ˜¯æ¥è§è§ä¸–é¢</p><p>æœ‰å¤§å­¦ç”Ÿï¼Œæœ‰å‰åç«¯ã€åµŒå…¥å¼ã€Web3ã€è‡ªåª’ä½“ï¼Œæœ‰å¤§å‚æŠ€æœ¯äººå‘˜ï¼Œæ”¶è·è¿˜æ˜¯æŒºå¤šçš„</p><p>ä¹Ÿå’Œå¤šå¹´ä¸è§çš„åŒå­¦è§äº†é¢</p><p><img src="/2024/07/20/%E5%8F%82%E5%8A%A0%E4%B8%80%E4%B8%AA-Rust-%E6%B4%BB%E5%8A%A8/1.jpg"></p><p><img src="/2024/07/20/%E5%8F%82%E5%8A%A0%E4%B8%80%E4%B8%AA-Rust-%E6%B4%BB%E5%8A%A8/2.jpg"></p><p><img src="/2024/07/20/%E5%8F%82%E5%8A%A0%E4%B8%80%E4%B8%AA-Rust-%E6%B4%BB%E5%8A%A8/3.jpg"></p><p><img src="/2024/07/20/%E5%8F%82%E5%8A%A0%E4%B8%80%E4%B8%AA-Rust-%E6%B4%BB%E5%8A%A8/4.jpg"></p><p><img src="/2024/07/20/%E5%8F%82%E5%8A%A0%E4%B8%80%E4%B8%AA-Rust-%E6%B4%BB%E5%8A%A8/5.jpg"></p>]]>
    </content>
    <id>https://linweiyuan.github.io/2024/07/20/%E5%8F%82%E5%8A%A0%E4%B8%80%E4%B8%AA-Rust-%E6%B4%BB%E5%8A%A8.html</id>
    <link href="https://linweiyuan.github.io/2024/07/20/%E5%8F%82%E5%8A%A0%E4%B8%80%E4%B8%AA-Rust-%E6%B4%BB%E5%8A%A8.html"/>
    <published>2024-07-20T12:54:42.000Z</published>
    <summary>
      <![CDATA[<p>ä»Šå¤©ä¹Ÿæ˜¯æ¥è§è§ä¸–é¢</p>
<p>æœ‰å¤§å­¦ç”Ÿï¼Œæœ‰å‰åç«¯ã€åµŒå…¥å¼ã€Web3ã€è‡ªåª’ä½“ï¼Œæœ‰å¤§å‚æŠ€æœ¯äººå‘˜ï¼Œæ”¶è·è¿˜æ˜¯æŒºå¤šçš„</p>
<p>ä¹Ÿå’Œå¤šå¹´ä¸è§çš„åŒå­¦è§äº†é¢</p>
<p><img src="/2024/07/20/%E5%8F%82%E5%8A%A0%E4%B8%80%E4%B]]>
    </summary>
    <title>å‚åŠ ä¸€ä¸ª Rust æ´»åŠ¨</title>
    <updated>2026-02-13T00:37:43.581Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="è™šæ‹Ÿæœº" scheme="https://linweiyuan.github.io/categories/%E8%99%9A%E6%8B%9F%E6%9C%BA/"/>
    <category term="Windows" scheme="https://linweiyuan.github.io/tags/Windows/"/>
    <category term="KVM" scheme="https://linweiyuan.github.io/tags/KVM/"/>
    <category term="QEMU" scheme="https://linweiyuan.github.io/tags/QEMU/"/>
    <content>
      <![CDATA[<p>ä¹‹å‰æœ‰é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">features</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">kvm</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hidden</span> <span class="attr">state</span>=<span class="string">&quot;on&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">kvm</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">features</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å’Œ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">cpu</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">feature</span> <span class="attr">policy</span>=<span class="string">&quot;disable&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hypervisor&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">cpu</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸€åˆ‡éƒ½æ˜¯æ­£å¸¸çš„</p><p>ä½†æ˜¯ç©ç›—è´¼ä¹‹æµ·æ‰“å¼€æç¤º â€œCannot run under Virtual Machine.â€</p><hr><p>ä¸Šç½‘æŸ¥äº†ä¸‹ï¼ŒåŠ å¤šä¸€ä¸ªé…ç½®å¯ä»¥è§£å†³ï¼Œæµ‹è¯•æ­£å¸¸</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">os</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">smbios</span> <span class="attr">mode</span>=<span class="string">&quot;host&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">os</span>&gt;</span></span><br></pre></td></tr></table></figure>]]>
    </content>
    <id>https://linweiyuan.github.io/2024/05/12/QEMU-KVM-%E7%9B%97%E8%B4%BC%E4%B9%8B%E6%B5%B7%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%A3%80%E6%B5%8B%E7%BB%95%E8%BF%87.html</id>
    <link href="https://linweiyuan.github.io/2024/05/12/QEMU-KVM-%E7%9B%97%E8%B4%BC%E4%B9%8B%E6%B5%B7%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%A3%80%E6%B5%8B%E7%BB%95%E8%BF%87.html"/>
    <published>2024-05-12T10:08:28.000Z</published>
    <summary>
      <![CDATA[<p>ä¹‹å‰æœ‰é…ç½®</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br>]]>
    </summary>
    <title>QEMU/KVM ç›—è´¼ä¹‹æµ·è™šæ‹Ÿæœºæ£€æµ‹ç»•è¿‡</title>
    <updated>2026-02-13T00:37:43.575Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="ç¨‹åºè®¾è®¡" scheme="https://linweiyuan.github.io/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/"/>
    <category term="AWS" scheme="https://linweiyuan.github.io/tags/AWS/"/>
    <category term="Athena" scheme="https://linweiyuan.github.io/tags/Athena/"/>
    <category term="Lambda" scheme="https://linweiyuan.github.io/tags/Lambda/"/>
    <category term="API Gateway" scheme="https://linweiyuan.github.io/tags/API-Gateway/"/>
    <content>
      <![CDATA[<p>äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œå‡ ä¸ªæœˆå‰æœ‰ä¸€ä¸ªéœ€æ±‚ï¼šç”¨æˆ·åœ¨å‰ç«¯é¡µé¢ä¸Šè¾“å…¥æŸ¥è¯¢æ¡ä»¶è°ƒç”¨ API è¿”å›æ•°æ®</p><p>å¾ˆç»å…¸çš„ç®€å• CRUD å¯¹ä¸å¯¹ï¼Ÿæˆ‘å‘Šè¯‰ä½ ï¼Œ å…¶å®æœ‰ç‚¹ä¸åŒ</p><p>å› ä¸ºè¿™ä¸ªæŸ¥è¯¢é™¤äº†å…¶ä»–å¯ç©ºæ¡ä»¶å¤–ï¼Œæœ‰ä¸ªå¿…å¡«çš„ä¸¤ä¸ªå‚æ•°æ˜¯å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ï¼Œè€Œè¿™ä¸ªæ—¶é—´æ®µï¼Œå¦‚æœæ˜¯å½“æœˆï¼ˆ30 å¤©å†…ï¼‰çš„ï¼ŒAPI è¦ä»æ•°æ®åº“é‡Œé¢æ‹¿æ•°æ®è¿”å›ï¼Œè€Œå‰é¢æœˆä»½çš„åˆ™éœ€è¦ä» S3 çš„æ–‡ä»¶é‡Œæ‹¿ï¼Œæœ‰ä¸ª Lambda æ¯å¤©é›¶ç‚¹ä¼šå®šæ—¶æ‰§è¡Œä»»åŠ¡ï¼ŒæŠŠæ•°æ®åº“é‡Œè¶…è¿‡ 30 å¤©çš„æ•°æ®æå–å‡ºæ¥ï¼Œç”Ÿæˆ CSV æ‘†åˆ° S3ï¼Œç„¶ååˆ é™¤æ•°æ®åº“çš„æ•°æ®</p><p>æˆ‘ä»¬æ ¹æ®è¿™ä¸ªåœºæ™¯åšè¿‡å¤šè½®å‹åŠ›æµ‹è¯•ï¼Œæœ€ç»ˆç¡®å®šäº†æ¯æ¬¡ä»æ•°æ®åº“é‡Œé¢æ‹¿ 3000 æ˜¯æ¯”è¾ƒç†æƒ³çš„ï¼Œå®ç°ä»£ç å¤§æ¦‚é•¿è¿™æ ·ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cursor.execute(<span class="string">&#x27;select count xxx&#x27;</span>)</span><br><span class="line">row_count = cursor.rowcount</span><br><span class="line"><span class="keyword">if</span> row_count &gt; <span class="number">0</span>:</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        fetch_rows = cursor.fetchmany(<span class="number">3000</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(fetch_rows) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">for</span> row <span class="keyword">in</span> fetch_rows:</span><br><span class="line">                <span class="comment"># write csv</span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ç¬¬ä¸€ç‰ˆçš„ä»£ç </p><p>æµ‹è¯•è¿‡ç¨‹ä¸­å‘ç°å¯èƒ½æœªæ¥çš„æ•°æ®é‡ä¼šæœ‰ç‚¹å¤§ï¼Œå¹¶ä¸”è¿™ä¸ª Athena æ”¶è´¹ä¹Ÿä¸ä¾¿å®œï¼Œå¦‚æœä¸è®¾ç½®åˆé€‚çš„ç´¢å¼•ï¼Œæ¯æ¬¡éƒ½éœ€è¦æŸ¥è¯¢å¾ˆå¤šæ²¡æ„ä¹‰çš„æ•°æ®å†è¿‡æ»¤ï¼Œç›¸å½“çƒ§é’±</p><p>äºæ˜¯ç»è¿‡å¯¹é¡µé¢å‡ ä¸ªæŸ¥è¯¢æ¡ä»¶å’Œæ•°æ®åº“åŸæ¥çš„ç»“æ„è¿›è¡Œåˆ†æåï¼Œè®¾ç½®äº† Athena çš„ç´¢å¼•ï¼Œè¿™ä¸ªç´¢å¼•åœ¨ Athena é‡Œé¢å« <code>partition key</code>ï¼Œæˆ‘ä»¬é€‰ç”¨çš„æ˜¯ Hive é£æ ¼</p><p>å› æ­¤åœ¨ Bucket ä¸Šçš„ CSV å¤§æ¦‚é•¿è¿™æ ·ï¼šbucket&#x2F;year&#x3D;2024&#x2F;month&#x3D;01&#x2F;day&#x3D;01&#x2F;a&#x3D;xxx&#x2F;b&#x3D;xxxï¼ˆè¿™é‡Œçš„ a å’Œ b æ˜¯é¡µé¢ä¸Šä¸€äº›æŸ¥è¯¢æ¡ä»¶ï¼‰</p><p>ä»£ç ä¹Ÿæ”¹ä¸ºäº†å…ˆæŒ‰ç…§æŸ¥è¯¢æ¡ä»¶ <code>group by</code>ï¼Œå¥½ç”Ÿæˆ S3 ç›®å½•ç»“æ„ï¼Œå†æŒ‰ç…§å…·ä½“çš„æ¡ä»¶å»æŸ¥è¯¢å¯¹åº”çš„æ•°æ®</p><p>é“ºå«äº†è¿™ä¹ˆå¤šï¼Œä¸‹é¢å¼€å§‹æ­£æ–‡</p><h3 id="ç¬¬ä¸€ä¸ªå‘ï¼šæ•°æ®ä¸ºä»€ä¹ˆæŸ¥ä¸å‡ºæ¥ï¼Ÿ"><a href="#ç¬¬ä¸€ä¸ªå‘ï¼šæ•°æ®ä¸ºä»€ä¹ˆæŸ¥ä¸å‡ºæ¥ï¼Ÿ" class="headerlink" title="ç¬¬ä¸€ä¸ªå‘ï¼šæ•°æ®ä¸ºä»€ä¹ˆæŸ¥ä¸å‡ºæ¥ï¼Ÿ"></a>ç¬¬ä¸€ä¸ªå‘ï¼šæ•°æ®ä¸ºä»€ä¹ˆæŸ¥ä¸å‡ºæ¥ï¼Ÿ</h3><p>ç›¸ä¿¡æœ‰è¿‡å¤§æ•°æ®å¼€å‘ç»éªŒçš„åŒå­¦å¾ˆå¿«å°±èƒ½çœ‹åˆ°é—®é¢˜ï¼Œæ•°æ®æ˜¯æœ‰äº†ï¼Œä½†æ˜¯ Athena å¹¶ä¸è®¤è¯†è¿™äº›æ•°æ®ï¼Œè¿˜è¦ â€œå‘Šè¯‰â€ Athena ä»é‚£é‡Œæ‹¿æ•°æ®å›æ¥</p><p>æœ‰ä¸¤ä¸ªæ­¥éª¤å¯ä»¥é€‰æ‹©ï¼Œè¦ä¹ˆ <code>alter table add partition</code>ï¼Œè¦ä¹ˆ <code>msck repair table</code>ï¼Œå› ä¸ºæŒ‰ç…§æˆ‘ä»¬çš„è®¾è®¡ï¼Œè¿™ä¸ªç»“æ„ç†è®ºä¸Šæ˜¯ä¸ä¼šæœ‰ä»€ä¹ˆå¤§çš„å˜åŒ–çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©äº†ç¬¬äºŒç§æ–¹å¼</p><p>æ‰§è¡Œå®Œ repair åï¼Œä¼šçœ‹åˆ°è¾“å‡ºäº†ä¸€å † S3 è·¯å¾„ï¼Œæ„æ€å°±æ˜¯ Athena è®¤è¯†è¿™äº›æ•°æ®äº†</p><h3 id="ç¬¬äºŒä¸ªå‘ï¼šæ–°çš„æ•°æ®ä¸ºä»€ä¹ˆæŸ¥ä¸å‡ºæ¥ï¼Ÿ"><a href="#ç¬¬äºŒä¸ªå‘ï¼šæ–°çš„æ•°æ®ä¸ºä»€ä¹ˆæŸ¥ä¸å‡ºæ¥ï¼Ÿ" class="headerlink" title="ç¬¬äºŒä¸ªå‘ï¼šæ–°çš„æ•°æ®ä¸ºä»€ä¹ˆæŸ¥ä¸å‡ºæ¥ï¼Ÿ"></a>ç¬¬äºŒä¸ªå‘ï¼šæ–°çš„æ•°æ®ä¸ºä»€ä¹ˆæŸ¥ä¸å‡ºæ¥ï¼Ÿ</h3><p>å¥½äº†ï¼Œæ¯å¤©å®šæ—¶ä»»åŠ¡éƒ½èƒ½æˆåŠŸæŠŠæ•°æ®ä»æ•°æ®åº“è½¬ç§»åˆ° Bucket ä¸­ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆåªèƒ½æŸ¥åˆ°è€çš„æ•°æ®ï¼Ÿ</p><p>æƒ³è±¡ä¸€ä¸‹æ•°æ®åº“æ–°å¢æ•°æ®çš„æ—¶å€™ï¼Œç´¢å¼•æ˜¯ä¸æ˜¯ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ï¼ŒåŸæ¥è¿™ä¸ª Athena ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä¸è¿‡ï¼Œè¿™ä¸ªé‡å»ºç´¢å¼•çš„è¿‡ç¨‹éœ€è¦äººä¸ºä»‹å…¥</p><p>è€ƒè™‘åˆ°æˆ‘ä»¬çš„æ•°æ®æ˜¯æ¯å¤©é›¶ç‚¹åŒæ­¥è¿‡å»çš„ï¼Œè€Œè¦é‡å»ºç´¢å¼•åï¼Œæ–°çš„æ•°æ®æ‰èƒ½è¢«æŸ¥åˆ°ï¼Œæ‰€ä»¥ç»™è¿™ä¸ª Lambda åœ¨åŒæ­¥å®Œæ•°æ®åå†è·‘ä¸ª repair è¯­å¥ï¼Œè§£å†³é—®é¢˜</p><p>é¡¹ç›®å¼€å§‹ä¸Šçº¿å¹¶ç¨³å®šè¿è¡Œäº†ä¸€æ®µæ—¶é—´</p><hr><p>ä¸ŠåŠéƒ¨åˆ†ç»“æŸï¼Œä¸‹åŠéƒ¨åˆ†å¼€å§‹</p><p>æ–°çš„éœ€æ±‚è¿‡æ¥äº†ï¼Œå’Œä¸Šé¢å·®ä¸å¤šï¼Œä¸è¿‡ä¸æ˜¯æŸ¥æ•°æ®æ˜¾ç¤ºï¼Œè€Œæ˜¯å°†æŸ¥åˆ°çš„æ•°æ®å¯¼å‡º CSV ç„¶åä¸‹è½½ä¸‹æ¥</p><p>åœ¨è¿™é‡Œéœ€è¦å…ˆè¯´æ˜ä¸€ä¸‹ç½‘ç»œç»“æ„</p><p>æœ‰ä¸¤ä¸ª AWS è´¦å·ï¼ŒAPI åœ¨è´¦å· Aï¼Œè¿™ä¸ªè´¦å·åªæœ‰ EKS æœåŠ¡ï¼Œé‚£äº›ä»€ä¹ˆæ•°æ®åº“ã€Lambdaã€Bucketã€API Gateway ç­‰ç­‰ä¹±ä¸ƒå…«ç³Ÿçš„å…¨åœ¨å¦ä¸€ä¸ªè´¦å· Bï¼ŒAPI é€šè¿‡ assume è´¦å· B çš„ role çš„æ–¹å¼æ¥ç”¨è´¦å· B çš„æœåŠ¡</p><p>éº»çƒ¦çš„æ–¹å¼ä¸ä½†åœ¨è¿™é‡Œï¼Œè¿˜åœ¨æ˜æ˜åœ¨è´¦å· B åˆ›å»ºå¥½ roleï¼Œèµ‹äºˆ S3 çš„å¢åˆ æ”¹æŸ¥å’Œ Lambda çš„æ‰§è¡Œæƒé™ï¼ŒAPI èƒ½å¤Ÿç›´æ¥é€šè¿‡ assume role æ¥æ‰§è¡Œ Lambda çš„æƒ…å†µä¸‹ï¼ŒAPI è¿˜è¦é€šè¿‡ç§æœ‰ VPCE æ¥è®¿é—®è´¦å· B çš„ API Gatewayï¼ŒAPI Gateway å†ç»‘å®š Lambdaï¼Œè¿™æ ·è›‹ç–¼çš„æ–¹å¼æ¥è®¿é—®</p><p>é—®å°±æ˜¯å®‰å…¨</p><p>äººåœ¨æ±Ÿæ¹–èº«ä¸ç”±å·±ï¼Œä¹Ÿåªå¥½éµå®ˆä»–çš„æ¸¸æˆè§„åˆ™</p><p>åœ¨è¿™ä¸ªå‰æä¸‹ï¼Œæ•°æ®åº“é‚£ä¸€éƒ¨åˆ†å¾ˆå¥½å¤„ç†ï¼Œåœ¨ Athena è¿™é‡Œåˆå‡ºäº†å¹ºè›¾å­</p><h3 id="ç¬¬ä¸‰ä¸ªå‘ï¼šæ•°æ®å¤ªå¤§-Lambda-è¶…æ—¶"><a href="#ç¬¬ä¸‰ä¸ªå‘ï¼šæ•°æ®å¤ªå¤§-Lambda-è¶…æ—¶" class="headerlink" title="ç¬¬ä¸‰ä¸ªå‘ï¼šæ•°æ®å¤ªå¤§ Lambda è¶…æ—¶"></a>ç¬¬ä¸‰ä¸ªå‘ï¼šæ•°æ®å¤ªå¤§ Lambda è¶…æ—¶</h3><p>ç”¨æˆ·ç‚¹å‡»ä¸‹è½½ CSVï¼Œè¯·æ±‚ä¼šè¿™æ ·èµ°ï¼šAPI -&gt; AWS API Gateway -&gt; AWS Lambda -&gt; AWS Athena &#x2F; AWS RDS -&gt; AWS S3</p><p>è€Œ Lambda é»˜è®¤æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œå¦‚æœæ•°æ®é‡å¤ªå¤§ï¼Œé‚£ä¹ˆå¦‚æœç”¨æˆ·ç‚¹å‡»ä¸‹è½½åä¸€ç›´åœ¨è½¬ï¼Œæ˜¾ç„¶ä¸ç°å®ï¼Œäºæ˜¯æˆ‘ä»¬å°† Lambda æ”¹æˆå¼‚æ­¥æ‰§è¡Œ</p><p>Lambda åœ¨ General é‚£é‡Œæœ€å¤§é™é¢å¯ä»¥é…ç½® 15 åˆ†é’Ÿè¶…æ—¶ï¼Œ10G å†…å­˜ï¼Œ10G ç¡¬ç›˜ï¼Œè€Œåœ¨ Async ç›¸å…³çš„è®¾ç½®é‡Œï¼Œåˆ™å¯ä»¥è®¾ç½®ä¸ºæœ€é•¿è·‘ 6 ä¸ªå°æ—¶å¹¶ä¸”æœ€å¤š 2 æ¬¡å¤±è´¥é‡è¯•ï¼ˆè‡ªåŠ¨ï¼‰</p><p>æ—¢ç„¶å†™å¾—è¿™ä¹ˆæ˜ç™½ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ•°æ®ä¹Ÿæ²¡è¿™ä¹ˆå¤§ï¼Œä¸ç”¨è·‘å‡ ä¸ªå°æ—¶ï¼Œé…ç½®è‚¯å®šæ˜¯å¤Ÿç”¨çš„ï¼Œä½†æ˜¯ä¿é™©èµ·è§ï¼Œå…ˆ sleep ä¸ª 16 åˆ†é’ŸéªŒè¯ä¸‹ï¼Ÿ</p><p>ä¸å‡ºæ„å¤–çš„è¯ï¼Œæ„å¤–å‘ç”Ÿäº†</p><p>ç»è¿‡æµ‹è¯•ï¼Œè™½ç„¶è¿™ä¸ªå¼‚æ­¥è®¾ç½®æœ€é•¿å¯ä»¥è®¾ç½® 6 å°æ—¶ï¼Œä½†æ˜¯å…¶å®æ— è®ºåŒæ­¥è¿˜æ˜¯å¼‚æ­¥ï¼ŒLambda æœ€é•¿è¿˜æ˜¯åªèƒ½æ‰§è¡Œ 15 åˆ†é’Ÿï¼Œè¿™ä¸ª 6 å°æ—¶åªæ˜¯ Lambda æ‰§è¡Œå¤±è´¥åä¼šæ”¾åœ¨é˜Ÿåˆ—é‡Œçš„æœ€é•¿ç­‰å¾…æ—¶é—´</p><p>å°±æ˜¯è¯´ï¼Œå°±ç®—ç”¨å¼‚æ­¥çš„æ–¹å¼æ‰§è¡Œè€—æ—¶ä»»åŠ¡ï¼Œåœ¨ 15 åˆ†é’Ÿå†…æ²¡è·‘å®Œï¼Œæ²¡å…³ç³»ï¼Œé‡è¯•ï¼Œè¿˜æ²¡è·‘å®Œï¼Œä¹Ÿæ²¡å…³ç³»ï¼Œå†é‡è¯•ï¼Œä½†åœ¨æˆ‘ä»¬è¿™ä¸ªéœ€æ±‚å°±ä¸é€‚ç”¨ï¼Œå› ä¸ºæ˜¯ä»å¤´å¼€å§‹é‡è¯•çš„ï¼Œè¯¥æ‹¿ä¸å›æ¥æ•°æ®è¿˜æ˜¯æ‹¿ä¸å›æ¥</p><p>æ–‡æ¡£å†™å¾—åˆä¹±ï¼Œç‰ˆæœ¬ V1ã€V2 åˆæ··ç€æ¥ï¼Œåæ­£æˆ‘æ˜¯å¾ˆè›‹ç–¼</p><p>15 åˆ†é’Ÿä¹Ÿè¡Œå§ï¼ŒAthena æŸ¥è¯¢ä¸œè¥¿æœ¬æ¥å°±æ¯”è¾ƒå¿«ï¼ŒæŸ¥è¯¢æ•°æ®åº“éƒ½èƒ½ 2-3 åˆ†é’Ÿè·‘å®Œï¼ŒAthena ä¸è§å¾—è¦è¶…è¿‡è¿™ä¸ªæ—¶é—´å§ï¼Ÿ</p><p>ç°å®åˆå•ªå•ªæ‰“è„¸</p><p>ç”±äºæœ‰ä¹‹å‰ä¸Šçº¿ç”Ÿäº§ç¯å¢ƒçš„ç»éªŒï¼Œé‚£ä¹ˆæˆ‘ä»¬ä» Athena é‡Œå¯¼å‡ºæ•°æ®ç”Ÿæˆ CSV ä¸‹è½½ï¼Œè‚¯å®šè¿˜æ˜¯æ²¿ç”¨ä¹‹å‰çš„è€è·¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">athena.start_query_execution()</span><br><span class="line">athena.get_query_execution()</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    query_execution_status == <span class="string">&#x27;SUCCEED&#x27;</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">athena.get_query_results()</span><br></pre></td></tr></table></figure><p>é—®é¢˜æ¥äº†ï¼ŒAthena æŸ¥è¯¢å¿«æ˜¯å¿«ï¼Œä½†æ˜¯æ¯æ¬¡åªèƒ½ä»ä¸­æœ€å¤šæ‹¿ 1000 æ¡æ•°æ®å›æ¥ï¼ŒåŒæ—¶ä¼šè¿”å›ä¸€ä¸ªå« <code>NextToken</code> è¿™æ ·çš„ä¸œè¥¿ï¼Œåç»­è¯·æ±‚éœ€è¦å¸¦ä¸Šå®ƒï¼Œæ‰èƒ½è·å–åé¢çš„æ•°æ®</p><p>é‚£è¿™å°±æœ‰é—®é¢˜äº†</p><p>ç»è¿‡æµ‹è¯•ï¼Œæ¯æ¬¡æ‹¿å›æ¥ 1000 æ¡æ•°æ®å¤§æ¦‚èŠ±è´¹ 2-3 ç§’å·¦å³ï¼Œé‚£ä¹ˆ 15 åˆ†é’Ÿæé™æœ€å¤šæ‹¿ä¸åˆ° 30W æ¡æ•°æ®ï¼Œä¸€å¤©çš„æ•°æ®é‡è¿œè¿œè¶…è¿‡è¿™ä¸ª</p><p>æ­£å½“ä¸€ç­¹è«å±•å‡†å¤‡é™å®šé¡µé¢æœç´¢æ¡ä»¶ï¼Œç¼©å°æ€»æ•°æ®é›†ï¼Œæˆ–è€…åˆ†æ‹†æˆå¤šä¸ªå­ä»»åŠ¡å†åˆå¹¶ CSV æ—¶ï¼ŒçŒ›ç„¶æƒ³åˆ°ï¼Œå…¶å® Athena æŸ¥è¯¢çš„æ—¶å€™å¾€å¾€éœ€è¦æŒ‡å®šä¸€ä¸ªç»“æœè¾“å‡ºè·¯å¾„ï¼Œæ— è®ºåœ¨ AWS Console è¿˜æ˜¯ boto3ï¼Œå¹¶ä¸”æ˜¯å¿…å¡«çš„ï¼Œè¿™ä¸ªè·¯å¾„å…¶å®å°±æ˜¯ä¿å­˜äº†æœ¬æ¬¡æŸ¥è¯¢çš„æ•°æ®é›†å’Œå…ƒæ•°æ®</p><p>è‰¹ï¼Œæ€ä¹ˆä¹‹å‰çœ‹æ¼äº†çœ¼</p><p>ç»“æœå°±å¾ˆç¾ä¸½äº†ï¼Œ100W æ•°æ®æŸ¥è¯¢æ‰ 10 ç§’ï¼Œå¹¶ä¸” CSV éƒ½ç”Ÿæˆå¥½äº†ï¼Œåªéœ€ç§»åŠ¨ä¸‹ä½ç½®å³å¯</p><h3 id="ç¬¬å››ä¸ªå‘ï¼šAPI-é€šè¿‡-API-Gateway-è°ƒç”¨-Lambda-ä¸æ˜¯å¼‚æ­¥çš„"><a href="#ç¬¬å››ä¸ªå‘ï¼šAPI-é€šè¿‡-API-Gateway-è°ƒç”¨-Lambda-ä¸æ˜¯å¼‚æ­¥çš„" class="headerlink" title="ç¬¬å››ä¸ªå‘ï¼šAPI é€šè¿‡ API Gateway è°ƒç”¨ Lambda ä¸æ˜¯å¼‚æ­¥çš„"></a>ç¬¬å››ä¸ªå‘ï¼šAPI é€šè¿‡ API Gateway è°ƒç”¨ Lambda ä¸æ˜¯å¼‚æ­¥çš„</h3><p>å‰é¢è¯´è¿‡ï¼Œä¸èƒ½è®©ç”¨æˆ·ç‚¹å‡»ä¸‹è½½ååœ¨å¹²ç­‰ï¼Œæ‰€ä»¥éœ€è¦å¼‚æ­¥æ‰§è¡Œè¿™ä¸ª Lambda</p><p>å¥½äº†ï¼Œå‚è€ƒæ–‡æ¡£ <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/set-up-lambda-integration-async.html">Set up asynchronous invocation of the backend Lambda function</a> è¿›è¡Œè®¾ç½®ï¼Œåœ¨ Lambda é‡Œç®€å• <code>time.sleep(33)</code> çœ‹çœ‹ï¼Œå› ä¸º API è°ƒç”¨ API Gateway è¶…è¿‡ 10 ç§’å°±è¦æŠ¥é”™äº†ï¼Œè€Œ API Gateway è°ƒç”¨ Lambda è¶…è¿‡ 30 ç§’ä¹Ÿä¼šæŠ¥é”™ï¼Œæ‰€ä»¥è¿™æ ·èƒ½è¯•åˆ°ä¸¤ç§æƒ…å†µ</p><p>åœ¨æ²¡è®¾ç½® <code>X-Amz-Invocation-Type</code> è¯·æ±‚å¤´å‰ï¼Œåœ¨ AWS Console ä¸Šé¢æµ‹è¯• API Gateway è°ƒç”¨ Lambda æ˜¯è¶…æ—¶çš„ï¼Œè€Œè®¾ç½®äº†è¿™ä¸ªè¯·æ±‚å¤´åï¼Œæ­£å¸¸äº†ï¼Œä½†æ˜¯ API é€šè¿‡ API Gateway æ¥è°ƒç”¨ Lambdaï¼Œè¿˜æ˜¯è¶…æ—¶</p><p>è¿™åˆæ˜¯ä»€ä¹ˆç ´ç©æ„ï¼Ÿ</p><p>ç™¾æ€ä¸å¾—å…¶è§£</p><p>Header ä¼ å¾—ä¸å¯¹å—ï¼Ÿ</p><p>Lambda æ²¡æœ‰è®¾ç½®å¥½å—ï¼Ÿ</p><p>é“¾æ¥ç”¨é”™äº†å—ï¼Ÿ</p><p>æœ‰é¬¼</p><p>æœ€åå‘ç°å…¶å®æ˜¯å¿˜è®°äº†é‡æ–°éƒ¨ç½² API Gateway</p><p>è™½ç„¶æ˜¯æˆ‘ä»¬è‡ªå·±çš„é”…ï¼Œä½†æ˜¯æ²¡æœ‰é‡æ–°éƒ¨ç½²å´åœ¨ AWS Console ä¸Šé¢æµ‹è¯•ä¹Ÿèƒ½é€šè¿‡ï¼Œå°±å¾ˆè¯¯å¯¼äºº</p><h3 id="ç¬¬äº”ä¸ªå‘ï¼šæ— æ³•åˆ©ç”¨è‡ªå®šä¹‰åŸŸåæ¥ç”Ÿæˆ-presignedUrl"><a href="#ç¬¬äº”ä¸ªå‘ï¼šæ— æ³•åˆ©ç”¨è‡ªå®šä¹‰åŸŸåæ¥ç”Ÿæˆ-presignedUrl" class="headerlink" title="ç¬¬äº”ä¸ªå‘ï¼šæ— æ³•åˆ©ç”¨è‡ªå®šä¹‰åŸŸåæ¥ç”Ÿæˆ presignedUrl"></a>ç¬¬äº”ä¸ªå‘ï¼šæ— æ³•åˆ©ç”¨è‡ªå®šä¹‰åŸŸåæ¥ç”Ÿæˆ presignedUrl</h3><p>ä¸‹è½½ CSV è¿™ä¸ªåŠ¨ä½œï¼Œè€ƒè™‘åˆ° API æ€§èƒ½é—®é¢˜ï¼Œæ²¡æœ‰å°†æ•°æ®å†ç»è¿‡ API ä¸€éæµå¼è¿”å›å‰ç«¯å¾’å¢åŠŸè€—ï¼Œè€Œæ˜¯ç›´æ¥ç”Ÿæˆ presignedUrlï¼Œå‰ç«¯ç›´æ¥è°ƒç”¨è¿™ä¸ªé“¾æ¥ä¸‹è½½æ–‡ä»¶å°±å®Œäº‹äº†</p><p>è¿™ä¸ªé“¾æ¥ï¼ŒåŒ…å«äº† AWS è´¦å·ä¿¡æ¯å’Œ Bucket ä¿¡æ¯ï¼Œæƒ³å°†å…¶éšè—æ‰ï¼Œäºæ˜¯è€ƒè™‘åˆ°äº†åˆ©ç”¨è‡ªå®šä¹‰åŸŸåçš„æ–¹å¼æ¥å®Œæˆ</p><p>æœ€åé…ç½®å¥½äº†è·¯ç”±ï¼Œç”Ÿæˆ presignedUrlï¼Œæ›¿æ¢è‡ªå®šä¹‰åŸŸåï¼Œç­‰ç­‰éƒ½å®Œæˆåï¼Œé€šè¿‡æ–°é“¾æ¥æ¥è®¿é—®æ–‡ä»¶ï¼Œå´è¯´ç­¾åä¸åŒ¹é…</p><p>ä¹Ÿå°è¯•è¿‡åœ¨ä»£ç é‡Œé‡å†™ endpointUrl æˆ–è€…ä¿®æ”¹å‚ä¸è®¡ç®—ç­¾åçš„ Host å­—æ®µï¼Œè®©å®ƒå’Œæˆ‘ä»¬çš„è‡ªå®šä¹‰åŸŸåä¸€æ ·ï¼Œç»“æœè¿˜æ˜¯ä¸è¡Œ</p><p>æŸ¥é˜…äº†ç›¸å…³æ–‡ç« ï¼Œä¼¼ä¹ä¹Ÿè¯´ï¼Œè¿™å…¶å®å°±æ˜¯ S3 çš„è§„èŒƒ</p><p>æ„Ÿè§‰æ˜¯æ²¡ç›´æ¥æ–¹æ³•å®ç°çš„ï¼Œæœ‰çš„è¯ï¼Œéº»çƒ¦å‘ŠçŸ¥ä¸€ä¸‹æˆ‘</p><p>æˆ–è€…æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ API é‡Œæ˜ å°„çš„æ–¹å¼æ¥å®ç°ï¼Ÿæ–°å¢æ¥å£æ¥ä¸“é—¨å¤„ç†è¿™ä¸ªï¼Œæš´éœ² API ä¿¡æ¯ï¼Œä½†æ˜¯å¯ä»¥æœ‰æ•ˆéšè—æ‰ AWS ç›¸å…³ä¿¡æ¯ï¼Œè¿™å°±æ˜¯åè¯äº†</p><hr><h3 id="TBC"><a href="#TBC" class="headerlink" title="TBC"></a>TBC</h3>]]>
    </content>
    <id>https://linweiyuan.github.io/2024/05/02/%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8-AWS-%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%BF%83%E8%B7%AF%E5%8E%86%E7%A8%8B.html</id>
    <link href="https://linweiyuan.github.io/2024/05/02/%E4%B8%80%E6%AC%A1%E4%BD%BF%E7%94%A8-AWS-%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%BF%83%E8%B7%AF%E5%8E%86%E7%A8%8B.html"/>
    <published>2024-05-02T14:49:35.000Z</published>
    <summary>
      <![CDATA[<p>äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œå‡ ä¸ªæœˆå‰æœ‰ä¸€ä¸ªéœ€æ±‚ï¼šç”¨æˆ·åœ¨å‰ç«¯é¡µé¢ä¸Šè¾“å…¥æŸ¥è¯¢æ¡ä»¶è°ƒç”¨ API è¿”å›æ•°æ®</p>
<p>å¾ˆç»å…¸çš„ç®€å• CRUD å¯¹ä¸å¯¹ï¼Ÿæˆ‘å‘Šè¯‰ä½ ï¼Œ å…¶å®æœ‰ç‚¹ä¸åŒ</p>
<p>å› ä¸ºè¿™ä¸ªæŸ¥è¯¢é™¤äº†å…¶ä»–å¯ç©ºæ¡ä»¶å¤–ï¼Œæœ‰ä¸ªå¿…å¡«çš„ä¸¤ä¸ªå‚æ•°æ˜¯å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ï¼Œè€Œè¿™ä¸ªæ—¶é—´æ®µï¼Œå¦‚æœæ˜¯å½“æœˆï¼ˆ30]]>
    </summary>
    <title>ä¸€æ¬¡ä½¿ç”¨ AWS æœåŠ¡çš„å¿ƒè·¯å†ç¨‹</title>
    <updated>2026-02-13T00:37:43.580Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="AI" scheme="https://linweiyuan.github.io/categories/AI/"/>
    <category term="LLM" scheme="https://linweiyuan.github.io/tags/LLM/"/>
    <category term="Stability AI" scheme="https://linweiyuan.github.io/tags/Stability-AI/"/>
    <content>
      <![CDATA[<p>å®˜æ–¹ç®€ä»‹ï¼š<a href="https://stability.ai/news/introducing-stable-code-instruct-3b">https://stability.ai/news/introducing-stable-code-instruct-3b</a></p><p>æ€»çš„æ¥è¯´ï¼Œå’Œ <a href="https://linweiyuan.github.io/2023/12/07/ChatGLM2-6B-INT4%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2.html">ChatGLM2-6B-INT4 æœ¬åœ°éƒ¨ç½²</a> å·®ä¸å¤šï¼Œéœ€è¦å®‰è£… <code>transformers</code> å’Œ <code>torch</code></p><p>æµå¼è¾“å‡ºä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> transformers <span class="keyword">import</span> AutoModelForCausalLM, AutoTokenizer, TextStreamer</span><br><span class="line">tokenizer = AutoTokenizer.from_pretrained(<span class="string">&quot;stabilityai/stable-code-instruct-3b&quot;</span>, trust_remote_code=<span class="literal">True</span>)</span><br><span class="line">model = AutoModelForCausalLM.from_pretrained(<span class="string">&quot;stabilityai/stable-code-instruct-3b&quot;</span>, torch_dtype=torch.bfloat16, trust_remote_code=<span class="literal">True</span>)</span><br><span class="line">model.<span class="built_in">eval</span>()</span><br><span class="line">model = model.cuda()</span><br><span class="line"></span><br><span class="line">messages = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;role&quot;</span>: <span class="string">&quot;system&quot;</span>,</span><br><span class="line">        <span class="string">&quot;content&quot;</span>: <span class="string">&quot;You are a helpful and polite assistant&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>,</span><br><span class="line">        <span class="string">&quot;content&quot;</span>: <span class="string">&quot;show me a demo code to connect to aws lambda using golang&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">prompt = tokenizer.apply_chat_template(messages, add_generation_prompt=<span class="literal">True</span>, tokenize=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">inputs = tokenizer([prompt], return_tensors=<span class="string">&quot;pt&quot;</span>).to(model.device)</span><br><span class="line"></span><br><span class="line">tokens = model.generate(</span><br><span class="line">    **inputs,</span><br><span class="line">    max_new_tokens=<span class="number">1024</span>,</span><br><span class="line">    temperature=<span class="number">0.5</span>,</span><br><span class="line">    top_p=<span class="number">0.95</span>,</span><br><span class="line">    top_k=<span class="number">100</span>,</span><br><span class="line">    do_sample=<span class="literal">True</span>,</span><br><span class="line">    use_cache=<span class="literal">True</span>,</span><br><span class="line">    pad_token_id=tokenizer.eos_token_id,</span><br><span class="line">    streamer=TextStreamer(tokenizer=tokenizer, skip_prompt=<span class="literal">True</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">output = tokenizer.batch_decode(tokens[:, inputs.input_ids.shape[-<span class="number">1</span>]:], skip_special_tokens=<span class="literal">False</span>)[<span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(output)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2024/03/31/Stable-Code-Instruct-3B-%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2/test.jpg"></p>]]>
    </content>
    <id>https://linweiyuan.github.io/2024/03/31/Stable-Code-Instruct-3B-%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2.html</id>
    <link href="https://linweiyuan.github.io/2024/03/31/Stable-Code-Instruct-3B-%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2.html"/>
    <published>2024-03-31T12:56:36.000Z</published>
    <summary>
      <![CDATA[<p>å®˜æ–¹ç®€ä»‹ï¼š<a href="https://stability.ai/news/introducing-stable-code-instruct-3b">https://stability.ai/news/introducing-stable-code-instruct-3]]>
    </summary>
    <title>Stable Code Instruct 3B æœ¬åœ°éƒ¨ç½²</title>
    <updated>2026-02-13T00:37:43.576Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="æµè§ˆå™¨" scheme="https://linweiyuan.github.io/categories/%E6%B5%8F%E8%A7%88%E5%99%A8/"/>
    <category term="Chrome" scheme="https://linweiyuan.github.io/tags/Chrome/"/>
    <content>
      <![CDATA[<p>æ–°ç‰ˆç•Œé¢æ˜¯çœŸçš„ç”¨ä¸ä¸Šï¼Œ<code>i3wm</code> é¼ æ ‡ç§»åˆ°æœ€ä¸Šé¢ç»å¸¸è·å–ä¸åˆ°æ ‡ç­¾é¡µçš„ç„¦ç‚¹ï¼Œå­—ä½“å’Œä¹¦ç­¾é—´éš”è¿˜è«åå…¶å¦™çš„å¤§</p><p>å¦‚ä½•å›æ»šï¼Ÿ</p><p>æ‰“å¼€<code>chrome://flags</code>ï¼Œå°† <code>Chrome WebUI Refresh 2023</code> è®¾ä¸º <code>Disabled</code></p><p>ä¸–ç•Œåˆç¾å¥½äº†</p><p>æœ‰æ„Ÿè§‰è¿™ä¸ªç‰¹æ€§ä¸€å®šä¼šåœ¨ä¸ä¹…çš„å°†æ¥è¢«åˆ æ‰</p><h1 id="2024-03-20"><a href="#2024-03-20" class="headerlink" title="2024-03-20"></a>2024-03-20</h1><p>æ—¥å¸¸ <code>yay</code> æ›´æ–°äº†ä¸‹ï¼Œå‚æ•°è¿˜å¤±æ•ˆäº†ï¼Œä¸è¿‡å¤šäº†æ–°å‚æ•°</p><p><code>Customize Chrome Side Panel</code> ç»§ç»­æ”¹ä¸º <code>Disabled</code></p><p>å½“å‰ç‰ˆæœ¬ï¼š<code>Version 123.0.6312.58 (Official Build) (64-bit)</code></p><p>è¿˜è¿™æ ·ä¹±æï¼Œæˆ‘è¦è½¬ <code>Firefox</code> äº†</p><h1 id="2024-05-17"><a href="#2024-05-17" class="headerlink" title="2024-05-17"></a>2024-05-17</h1><p>ä»Šå¤©æ—¥å¸¸æ»šä¸‹ç³»ç»Ÿï¼Œå‘ç°æœ‰æ›´æ–°ï¼Œäºæ˜¯å‡åˆ° 125ï¼Œç„¶åä¸å‡ºæ‰€æ–™ï¼Œæ‰“å¼€æµè§ˆå™¨å‘ç°è¿™ä¸ªè„‘æ®‹çš„è®¾è®¡åˆå›æ¥äº†ï¼Œä¸Šé¢çš„ <code>flags</code> å·²ç»ä¸è§<br>æ— å¥ˆåªèƒ½ä»æºå¤´å…¥æ‰‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /usr/share/applications/google-chrome.desktop</span><br></pre></td></tr></table></figure><p>æ”¹æˆ <code>Exec=/usr/bin/google-chrome-stable %U --disable-features=CustomizeChromeSidePanel</code></p><p>ä»Šå¤©ä¸‹äº†ä¸ªç«ç‹ï¼Œå†å®¹å¿å®ƒä¸€ä¸‹</p><h1 id="2024-08-21"><a href="#2024-08-21" class="headerlink" title="2024-08-21"></a>2024-08-21</h1><p>ç”¨äº†ç«ç‹ä¸€æ®µæ—¶é—´ï¼Œä¸å¤ªä¹ æƒ¯ã€‚ã€‚ã€‚ç”¨å› Chrome</p>]]>
    </content>
    <id>https://linweiyuan.github.io/2023/12/15/Chrome%E6%96%B0%E7%89%88UI%E5%9B%9E%E6%BB%9A.html</id>
    <link href="https://linweiyuan.github.io/2023/12/15/Chrome%E6%96%B0%E7%89%88UI%E5%9B%9E%E6%BB%9A.html"/>
    <published>2023-12-15T14:02:40.000Z</published>
    <summary>
      <![CDATA[<p>æ–°ç‰ˆç•Œé¢æ˜¯çœŸçš„ç”¨ä¸ä¸Šï¼Œ<code>i3wm</code> é¼ æ ‡ç§»åˆ°æœ€ä¸Šé¢ç»å¸¸è·å–ä¸åˆ°æ ‡ç­¾é¡µçš„ç„¦ç‚¹ï¼Œå­—ä½“å’Œä¹¦ç­¾é—´éš”è¿˜è«åå…¶å¦™çš„å¤§</p>
<p>å¦‚ä½•å›æ»šï¼Ÿ</p>
<p>æ‰“å¼€<code>chrome://flags</code>ï¼Œå°† <code>Chrome WebUI Re]]>
    </summary>
    <title>Chrome æ–°ç‰ˆ UI å›æ»š</title>
    <updated>2026-02-13T00:37:43.556Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="æ“ä½œç³»ç»Ÿ" scheme="https://linweiyuan.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    <category term="Caddy" scheme="https://linweiyuan.github.io/tags/Caddy/"/>
    <category term="WebSocket" scheme="https://linweiyuan.github.io/tags/WebSocket/"/>
    <category term="V2Ray" scheme="https://linweiyuan.github.io/tags/V2Ray/"/>
    <content>
      <![CDATA[<p>åŸºäº Arch Linux</p><p>å¯é€‰ï¼š<a href="https://linweiyuan.github.io/2017/08/22/Arch-Linux%E5%BC%80%E5%90%AFBBR-%E9%87%8D%E5%90%AF%E4%B8%8D%E5%A4%B1%E6%95%88.html">BBR</a></p><hr><ol><li>å®‰è£…è½¯ä»¶</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S v2ray caddy</span><br></pre></td></tr></table></figure><ol start="2"><li>é…ç½® V2Ray</li></ol><p>ç¼–è¾‘é…ç½®æ–‡ä»¶ <code>/etc/v2ray/vpoint_vmess_freedom.json</code>ï¼Œåœ¨ <code>inbounds</code> é‡Œé¢åŠ ä¸€æ®µé…ç½®ï¼Œ<code>path</code> å¯¹åº”çš„å€¼è‡ªå®šä¹‰ï¼Œä¾›åç»­ä½¿ç”¨ï¼Œè¿™é‡Œç”¨ <code>/ws</code>ï¼Œ<code>id</code> å¯éšä¾¿ç”Ÿæˆä¸€ä¸ª <code>UUID</code>ï¼Œæ¯”å¦‚é€šè¿‡ <code>cat /proc/sys/kernel/random/uuid</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&quot;streamSettings&quot;: &#123;</span><br><span class="line">    &quot;network&quot;: &quot;ws&quot;,</span><br><span class="line">    &quot;wsSettings&quot;: &#123;</span><br><span class="line">        &quot;path&quot;: &quot;/ws&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦å¤–é‡è¦çš„ä¸€ç‚¹ï¼Œ<code>alterId</code> æ”¹æˆ <code>0</code>ï¼ŒåŸå› è‡ªå·±æŸ¥</p><p>å¼€å¯æœåŠ¡ï¼š<code>sudo systemctl enable --now v2ray@vpoint_vmess_freedom</code></p><ol start="3"><li>é…ç½® Caddy</li></ol><p>æ–°å¢é…ç½®æ–‡ä»¶ <code>/etc/caddy/conf.d/xxx</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[åŸŸå] &#123;</span><br><span class="line">    reverse_proxy [æ¯”å¦‚ä¸Šé¢çš„ /ws] :[ä¸Šé¢é…ç½®çš„ç«¯å£] &#123;</span><br><span class="line">        header_up -Origin</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¼€å¯æœåŠ¡ï¼š<code>sudo systemctl enable --now caddy</code></p><ol start="4"><li><p>ï¼ˆå¯é€‰ï¼‰å¯åŠ¨ CDNï¼Œéšè—æºç«™ IPï¼ˆè¯•è¿‡ Cloudflareï¼Œé€Ÿåº¦æƒ¨ä¸å¿ç¹ï¼‰</p></li><li><p><code>v2rayA</code> å®¢æˆ·ç«¯é…ç½®</p></li></ol><table><thead><tr><th align="center">Key</th><th align="center">Value</th></tr></thead><tbody><tr><td align="center">Host</td><td align="center">åŸŸå</td></tr><tr><td align="center">Port</td><td align="center">443</td></tr><tr><td align="center">ID</td><td align="center">UUIDï¼ˆä¸Šé¢çš„ï¼‰</td></tr><tr><td align="center">AlterID</td><td align="center">0</td></tr><tr><td align="center">Security</td><td align="center">Auto</td></tr><tr><td align="center">TLS</td><td align="center">tls</td></tr><tr><td align="center">SNI</td><td align="center">ç©º</td></tr><tr><td align="center">uTLS fingerprint</td><td align="center">ç©º</td></tr><tr><td align="center">AllowInsecure</td><td align="center">å¦</td></tr><tr><td align="center">Network</td><td align="center">WebSocket</td></tr><tr><td align="center">Host</td><td align="center">åŸŸå</td></tr><tr><td align="center">Alpn</td><td align="center">ç©º</td></tr><tr><td align="center">Path</td><td align="center">ä¸Šé¢çš„ WebSocket è·¯å¾„</td></tr></tbody></table>]]>
    </content>
    <id>https://linweiyuan.github.io/2023/12/09/Caddy-WebSocket-V2Ray.html</id>
    <link href="https://linweiyuan.github.io/2023/12/09/Caddy-WebSocket-V2Ray.html"/>
    <published>2023-12-09T06:59:43.000Z</published>
    <summary>
      <![CDATA[<p>åŸºäº Arch Linux</p>
<p>å¯é€‰ï¼š<a href="https://linweiyuan.github.io/2017/08/22/Arch-Linux%E5%BC%80%E5%90%AFBBR-%E9%87%8D%E5%90%AF%E4%B8%8D%E5%A]]>
    </summary>
    <title>Caddy + WebSocket + V2Ray</title>
    <updated>2026-02-13T00:37:43.554Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="AI" scheme="https://linweiyuan.github.io/categories/AI/"/>
    <category term="LLM" scheme="https://linweiyuan.github.io/tags/LLM/"/>
    <category term="ChatGLM" scheme="https://linweiyuan.github.io/tags/ChatGLM/"/>
    <content>
      <![CDATA[<p>è®°å½•ä¸€ä¸‹ä¾›ä¸‹æ¬¡ç©è€å‚è€ƒï¼Œå½“å‰ç¯å¢ƒï¼š</p><p>Arch Linuxï¼š6.6.4-arch1-1<br>Pythonï¼š3.11.6<br>Nvidiaï¼š545.29.06<br>CUDAï¼š12.3<br>GPUï¼šNVIDIA GeForce RTX 3060 Ti<br>ChatGLM: chatglm2-6b-int4</p><hr><ol><li>Arch Linux å®‰è£… NVIDIA ç³»åŒ…</li></ol><p><a href="https://wiki.archlinux.org/title/NVIDIA">Wiki</a> è¯´ç°åœ¨æœ‰ä¸ªæ–°åŒ… <code>nvidia-open</code>ï¼Œæˆ‘è¯•è¿‡ç›´æ¥ç”¨åŸæ¥çš„ <code>nvidia</code> ç³»ç»Ÿä¼šè«åå…¶å¦™å¡ï¼Œæ¢æˆæ–°åŒ…ä¸€åˆ‡æ­£å¸¸</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S nvidia-open</span><br></pre></td></tr></table></figure><p>å¦‚æœæºç æ–¹å¼è¿è¡Œï¼Œä¸Šé¢çš„å°±å¤Ÿäº†ï¼Œå®¹å™¨è¿è¡Œéœ€è¦å®‰è£…å¤šä¸€ä¸ªï¼Œ<code>AUR</code> æˆ–è€…ç›´æ¥ <code>archlinuxcn</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S nvidia-container-toolkit</span><br></pre></td></tr></table></figure><p>ç”±äºæ˜¾å¡æ»¡è¶³ä¸äº† <code>chatglm2-6b</code>ï¼Œä¼šçˆ†æ˜¾å­˜ <code>orch.cuda.OutOfMemoryError: CUDA out of memory.</code>ï¼Œå› æ­¤åªèƒ½ç”¨ <code>chatglm2-6b-int4</code> çš„ç‰ˆæœ¬ï¼Œè¿™é‡Œç”¨æºç çš„æ–¹å¼ï¼Œæ–¹ä¾¿æ”¹åŠ¨åç›´æ¥è¿è¡Œ</p><p>å¦‚æœæ˜¯é¦–æ¬¡å®‰è£… <code>nvidia-open</code> åŒ…ï¼Œéœ€é‡å¯ç³»ç»Ÿç”Ÿæ•ˆ</p><ol start="2"><li><p>å…‹éš†å®˜æ–¹ä»“åº“ï¼š<code>gh repo clone THUDM/ChatGLM2-6B</code>ï¼Œè¿™ä¸ª <code>gh</code> éœ€è¦é¢å¤–å®‰è£… <code>github-cli</code>ï¼Œç”¨ <code>git clone</code> ä¹Ÿå¯ä»¥</p></li><li><p>è¿›å» <code>ChatGLM2-6B</code> æ–‡ä»¶å¤¹ï¼Œåˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒ <code>python -m venv .venv</code>ï¼Œæ‰§è¡Œ <code>source .venv/bin/activate</code> æ¿€æ´»ï¼ˆå–æ¶ˆæ¿€æ´» <code>deactivate</code>ï¼‰ï¼Œåˆæˆ–è€…åˆ©ç”¨ <code>oh-my-zsh</code> çš„æ’ä»¶åŠŸèƒ½ <code>virtualenvwrapper</code>ï¼Œè¿›å…¥é¡¹ç›®ç›®å½•åè‡ªåŠ¨æ¿€æ´»ï¼ˆéœ€è¦å®‰è£… <code>python-virtualenvwrapper</code> åŒ…ï¼‰</p></li><li><p>ä¸‹è½½ä¾èµ– <code>pip install -r requirements.txt</code></p></li><li><p>ä¿®æ”¹ä»£ç  <code>web_demo.py</code>ã€<code>web_demo2.py</code>ã€æˆ– <code>cli_demo.py</code>ï¼Œå°† <code>THUDM/chatglm2-6b</code> æ”¹ä¸º <code>THUDM/chatglm2-6b-int4</code>ï¼Œæ¥ç€æ‰§è¡Œå³å¯</p></li></ol><ul><li><code>python web_demo.py</code></li><li><code>streamlit run web_demo2.py</code></li><li><code>python cli_demo.py</code></li></ul><p>æ¨¡å‹ä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡å‹åˆ° <code>~/.cache/huggingface/hub</code> ï¼ˆæˆ–è€…æ”¹ä¸ºæœ¬åœ°å·²ç»ä¸‹è½½å¥½çš„è·¯å¾„ï¼Œå¯ä»¥åˆ° <a href="https://cloud.tsinghua.edu.cn/d/674208019e314311ab5c/?p=/&mode=list">æ¸…åå¤§å­¦äº‘ç›˜</a> ä¸‹è½½ï¼Œè¿™ä¸ªæˆ‘æ²¡è¯•è¿‡ï¼Œ<code>web_demo.py</code> æˆ‘è‡ªå·±æµ‹è¯•ç½‘é¡µä¼šæŠ¥é”™ï¼Œå…¶ä»–ä¸¤ä¸ªæ­£å¸¸ï¼‰</p><p>å¦‚æœé‡åˆ°æŠ¥é”™ <code>RuntimeError: Library cudart is not initialized</code>ï¼Œåˆ™éœ€è¦å®‰è£… <code>cuda</code> åŒ…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S cuda</span><br></pre></td></tr></table></figure><p>ç›¸åŒç¯å¢ƒç”¨èµ·æ¥ï¼Œé€Ÿåº¦ <code>chatglm2-6b-int4</code> æ¯” <code>chatglm-6b-int4</code> å¿«ä¸€ç‚¹ï¼Œå…¶ä»–çš„æ²¡ä»”ç»†æµ‹è¯•</p>]]>
    </content>
    <id>https://linweiyuan.github.io/2023/12/07/ChatGLM2-6B-INT4%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2.html</id>
    <link href="https://linweiyuan.github.io/2023/12/07/ChatGLM2-6B-INT4%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2.html"/>
    <published>2023-12-07T17:33:24.000Z</published>
    <summary>
      <![CDATA[<p>è®°å½•ä¸€ä¸‹ä¾›ä¸‹æ¬¡ç©è€å‚è€ƒï¼Œå½“å‰ç¯å¢ƒï¼š</p>
<p>Arch Linuxï¼š6.6.4-arch1-1<br>Pythonï¼š3.11.6<br>Nvidiaï¼š545.29.06<br>CUDAï¼š12.3<br>GPUï¼šNVIDIA GeForce RTX 3060 Ti<br>]]>
    </summary>
    <title>ChatGLM2-6B-INT4 æœ¬åœ°éƒ¨ç½²</title>
    <updated>2026-02-13T00:37:43.554Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="è™šæ‹Ÿæœº" scheme="https://linweiyuan.github.io/categories/%E8%99%9A%E6%8B%9F%E6%9C%BA/"/>
    <category term="Windows" scheme="https://linweiyuan.github.io/tags/Windows/"/>
    <category term="KVM" scheme="https://linweiyuan.github.io/tags/KVM/"/>
    <category term="QEMU" scheme="https://linweiyuan.github.io/tags/QEMU/"/>
    <content>
      <![CDATA[<p>åœ¨ KVM + QEMU çš„åœºæ™¯ä¸‹ï¼Œå¯ä»¥è¿›å» <code>/var/lib/libvirt/images</code> ç›®å½•ï¼Œç„¶åé€šè¿‡é€šè¿‡ <code>sudo qemu-img resize win10.qcow2 +10G</code> å»ä¿®æ”¹ç¡¬ç›˜å¤§å°</p><p>å› ä¸ºæˆ‘ä»¬ä¸€å¼€å§‹å¹¶ä¸çŸ¥é“ç¡¬ç›˜éœ€è¦å¤šå¤§ç©ºé—´ï¼Œå¹¶ä¸”å¦‚æœè¦é…åˆ <code>sdelete</code> è¿™ç§æ¥ä½¿ç”¨çš„è¯ï¼Œå¤ªå¤§çš„ç¡¬ç›˜è€—æ—¶ç›¸å¯¹æ›´å¤š</p><p>ä½†æ˜¯ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œé€šè¿‡ <code>resize</code> å‘½ä»¤å»æ‰©å®¹åï¼Œåœ¨ Windows ç³»ç»Ÿ <code>ç£ç›˜ç®¡ç†</code> é‚£é‡Œçš„ç©ºé—´æ˜¯ä¸èƒ½ç›´æ¥åˆå¹¶åˆ° C ç›˜çš„ï¼Œè¦æ–°å»ºä¸€ä¸ª D ç›˜ï¼Œç©ºé—´ä¸è¿ç»­å¯¼è‡´ä¸æ–¹ä¾¿çš„åŒæ—¶ï¼Œè¿˜å¯¹å¼ºè¿«ç—‡æ‚£è€…ä¸å‹å¥½</p><p>è¿™ä¸ªæ—¶å€™åªéœ€è¦æŠŠæ¢å¤åˆ†åŒºåˆ æ‰å°±å¯ä»¥åˆå¹¶è¿‡å» C ç›˜äº†ï¼Œä¸€èˆ¬æ¥è¯´ç”¨å¤„ä¸å¤§ï¼Œå†µä¸”æˆ‘ä»¬å¯ä»¥ç›´æ¥å¤‡ä»½ <code>win10.qcow2</code></p><hr><ol><li>ç®¡ç†å‘˜æ‰“å¼€ CMDï¼Œæ‰§è¡Œ <code>diskpart</code></li><li><code>list disk</code> åˆ—å‡ºæ‰€æœ‰ç¡¬ç›˜</li><li><code>select disk 0</code> é€šå¸¸ C ç›˜æ˜¯ç¬¬ 0 ä¸ª</li><li><code>list partition</code> åˆ—å‡ºæ‰€æœ‰åˆ†åŒº</li><li><code>select partition 4</code> é€šå¸¸æ¢å¤åˆ†åŒºæ˜¯ç¬¬ 4 ä¸ª</li><li><code>delete partition override</code> æç¤º <code>DiskPart æˆåŠŸåœ°åˆ é™¤äº†æ‰€é€‰åˆ†åŒºã€‚</code> åˆ™å¤§åŠŸå‘Šæˆ</li><li>æ‰“å¼€ç¡¬ç›˜ç®¡ç†ç›´æ¥å³é”®åˆå¹¶æ–°æ‰©å®¹çš„ç©ºé—´å³å¯</li></ol><hr><p>ä¸€ä¸ªä¾‹å­</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">Microsoft DiskPart ç‰ˆæœ¬ 10.0.19041.3636</span><br><span class="line"></span><br><span class="line">Copyright (C) Microsoft Corporation.</span><br><span class="line">åœ¨è®¡ç®—æœºä¸Š: KVM</span><br><span class="line"></span><br><span class="line">DISKPART&gt; list disk</span><br><span class="line"></span><br><span class="line">  ç£ç›˜ ###  çŠ¶æ€           å¤§å°     å¯ç”¨     Dyn  Gpt</span><br><span class="line">  --------  -------------  -------  -------  ---  ---</span><br><span class="line">  ç£ç›˜ 0    è”æœº              350 GB   300 GB        *</span><br><span class="line">  ç£ç›˜ 1    è”æœº              465 GB  1024 KB</span><br><span class="line"></span><br><span class="line">DISKPART&gt; select disk 0</span><br><span class="line"></span><br><span class="line">ç£ç›˜ 0 ç°åœ¨æ˜¯æ‰€é€‰ç£ç›˜ã€‚</span><br><span class="line"></span><br><span class="line">DISKPART&gt; list partition</span><br><span class="line"></span><br><span class="line">  åˆ†åŒº ###       ç±»å‹              å¤§å°     åç§»é‡</span><br><span class="line">  -------------  ----------------  -------  -------</span><br><span class="line">  åˆ†åŒº      1    ç³»ç»Ÿ                 100 MB  1024 KB</span><br><span class="line">  åˆ†åŒº      2    ä¿ç•™                  16 MB   101 MB</span><br><span class="line">  åˆ†åŒº      3    ä¸»è¦                  49 GB   117 MB</span><br><span class="line">  åˆ†åŒº      4    æ¢å¤                 583 MB    49 GB</span><br><span class="line"></span><br><span class="line">DISKPART&gt; select partition 4</span><br><span class="line"></span><br><span class="line">åˆ†åŒº 4 ç°åœ¨æ˜¯æ‰€é€‰åˆ†åŒºã€‚</span><br><span class="line"></span><br><span class="line">DISKPART&gt; delete partition override</span><br><span class="line"></span><br><span class="line">DiskPart æˆåŠŸåœ°åˆ é™¤äº†æ‰€é€‰åˆ†åŒºã€‚</span><br></pre></td></tr></table></figure>]]>
    </content>
    <id>https://linweiyuan.github.io/2023/12/07/QEMU%E4%B8%8BWin10%E7%A1%AC%E7%9B%98%E5%8A%A8%E6%80%81%E6%89%A9%E5%AE%B9.html</id>
    <link href="https://linweiyuan.github.io/2023/12/07/QEMU%E4%B8%8BWin10%E7%A1%AC%E7%9B%98%E5%8A%A8%E6%80%81%E6%89%A9%E5%AE%B9.html"/>
    <published>2023-12-07T12:01:42.000Z</published>
    <summary>
      <![CDATA[<p>åœ¨ KVM + QEMU çš„åœºæ™¯ä¸‹ï¼Œå¯ä»¥è¿›å» <code>/var/lib/libvirt/images</code> ç›®å½•ï¼Œç„¶åé€šè¿‡é€šè¿‡ <code>sudo qemu-img resize win10.qcow2 +10G</code> å»ä¿®æ”¹ç¡¬ç›˜å¤§å°</p>
<p>å› ]]>
    </summary>
    <title>QEMUä¸‹ Win10 ç¡¬ç›˜åŠ¨æ€æ‰©å®¹</title>
    <updated>2026-02-13T00:37:43.575Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="æ“ä½œç³»ç»Ÿ" scheme="https://linweiyuan.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    <category term="Windows" scheme="https://linweiyuan.github.io/tags/Windows/"/>
    <content>
      <![CDATA[<p>åœ¨å‰é¢æ˜¾å¡ç›´é€šæ–‡ç« ä»‹ç»è¿‡é€šè¿‡ KVM + QEMU ç›´é€šæ˜¾å¡ä½¿ç”¨ Windows ç³»ç»Ÿçš„åœºæ™¯ï¼Œå½“ä¸€ä¸ªç³»ç»Ÿå®‰è£…å¥½åï¼Œå…¶å®å¯ä»¥å°†åŸå§‹ç¡¬ç›˜ <code>win10.qcow2</code> å¤‡ä»½ä¸‹æ¥ï¼ˆç±»ä¼¼ Ghostï¼‰ï¼Œè¿™æ ·å½“é‡è£… Arch Linux çš„æ—¶å€™ï¼Œä¸ç”¨é‡æ–°é…ç½® Windows ç³»ç»Ÿï¼Œç›´æ¥ä¿®æ”¹ virt-manager é‡Œé¢ Windows 10 ç³»ç»Ÿçš„ xml æ–‡ä»¶å³å¯ï¼ˆåªéœ€æ›¿æ¢æˆæ–° UUIDï¼‰</p><p>ä½†æ˜¯ï¼Œæ¯æ¬¡ä½¿ç”¨è¿™å—ç¡¬ç›˜åï¼Œåœ¨ç³»ç»Ÿå¯åŠ¨è¿›å»çš„æ—¶å€™ï¼Œä¼šæç¤ºæ–°çš„â€œç½‘ç»œ2â€ã€â€œç½‘ç»œ3â€è¿æ¥ï¼Œè™½ç„¶ä¸å½±å“ä½¿ç”¨ï¼Œä½†æ˜¯å¼ºè¿«ç—‡å¿ä¸äº†</p><p>å¦‚ä½•è§£å†³ï¼Ÿ</p><p>æ³¨å†Œè¡¨å¤§æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\NetworkList\Profiles</span><br><span class="line">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\NetworkList\Signatures\Unmanaged</span><br></pre></td></tr></table></figure><p>å°†ä¸Šé¢ä¸¤ä¸ªé¡¹ä¸‹é¢çš„å­é¡¹å…¨éƒ¨åˆ é™¤åé‡å¯ç³»ç»Ÿï¼Œå³å¯é‡æ–°æç¤ºä¸€ä¸ªæ–°çš„â€œç½‘ç»œâ€</p>]]>
    </content>
    <id>https://linweiyuan.github.io/2023/12/06/%E5%88%A0%E9%99%A4Win10%E7%9A%84%E7%BD%91%E7%BB%9Cx.html</id>
    <link href="https://linweiyuan.github.io/2023/12/06/%E5%88%A0%E9%99%A4Win10%E7%9A%84%E7%BD%91%E7%BB%9Cx.html"/>
    <published>2023-12-06T08:38:54.000Z</published>
    <summary>
      <![CDATA[<p>åœ¨å‰é¢æ˜¾å¡ç›´é€šæ–‡ç« ä»‹ç»è¿‡é€šè¿‡ KVM + QEMU ç›´é€šæ˜¾å¡ä½¿ç”¨ Windows ç³»ç»Ÿçš„åœºæ™¯ï¼Œå½“ä¸€ä¸ªç³»ç»Ÿå®‰è£…å¥½åï¼Œå…¶å®å¯ä»¥å°†åŸå§‹ç¡¬ç›˜ <code>win10.qcow2</code> å¤‡ä»½ä¸‹æ¥ï¼ˆç±»ä¼¼ Ghostï¼‰ï¼Œè¿™æ ·å½“é‡è£… Arch Linux çš„æ—¶å€™ï¼Œä¸ç”¨é‡æ–°é…ç½® Wi]]>
    </summary>
    <title>åˆ é™¤ Win10 çš„ç½‘ç»œx</title>
    <updated>2026-02-13T00:37:43.581Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="è™šæ‹Ÿæœº" scheme="https://linweiyuan.github.io/categories/%E8%99%9A%E6%8B%9F%E6%9C%BA/"/>
    <category term="KVM" scheme="https://linweiyuan.github.io/tags/KVM/"/>
    <category term="QEMU" scheme="https://linweiyuan.github.io/tags/QEMU/"/>
    <content>
      <![CDATA[<p>æ¯”å¦‚æˆ‘æœ‰ä¸¤ä¸ªç›¸åŒçš„ U ç›˜è¦ç›´é€šè¿‡å»ï¼Œå¦‚æœé€šè¿‡ virt-manager ç›´æ¥æ“ä½œï¼Œä¼šæç¤ºè¿™ä¸ªé”™è¯¯ <code>Unable to add device: XML error: Hostdev already exists in the domain configuration</code></p><p>ç»è¿‡æ’æŸ¥ï¼Œå‘ç°é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸¤ä¸ª <code>vendor</code> å’Œ <code>product</code> ç›¸åŒçš„é…ç½®ä¸èƒ½åŒæ—¶å‡ºç°</p><hr><p>è§£å†³åŠæ³•å¦‚ä¸‹ï¼ˆArch Linuxï¼‰ï¼š<br>é¦–å…ˆéœ€è¦ç¡®ä¿ç³»ç»Ÿå®‰è£…æœ‰ <code>usbutils</code> è¿™ä¸ªåŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S usbutils</span><br></pre></td></tr></table></figure><p>æ¥ç€é€šè¿‡å‘½ä»¤ <code>lsusb</code> æŸ¥è¯¢åˆ° <code>Bus</code> å’Œ <code>Device</code></p><p>æ¯”å¦‚åŸæ¥çš„é…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hostdev</span> <span class="attr">mode</span>=<span class="string">&quot;subsystem&quot;</span> <span class="attr">type</span>=<span class="string">&quot;usb&quot;</span> <span class="attr">managed</span>=<span class="string">&quot;yes&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">vendor</span> <span class="attr">id</span>=<span class="string">&quot;0x1234&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">product</span> <span class="attr">id</span>=<span class="string">&quot;0xabcd&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">address</span> <span class="attr">type</span>=<span class="string">&quot;usb&quot;</span> <span class="attr">bus</span>=<span class="string">&quot;0&quot;</span> <span class="attr">port</span>=<span class="string">&quot;1&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">hostdev</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åçš„é…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hostdev</span> <span class="attr">mode</span>=<span class="string">&quot;subsystem&quot;</span> <span class="attr">type</span>=<span class="string">&quot;usb&quot;</span> <span class="attr">managed</span>=<span class="string">&quot;yes&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">vendor</span> <span class="attr">id</span>=<span class="string">&quot;0x1234&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">product</span> <span class="attr">id</span>=<span class="string">&quot;0xabcd&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">address</span> <span class="attr">bus</span>=<span class="string">&#x27;1&#x27;</span> <span class="attr">device</span>=<span class="string">&#x27;1&#x27;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">address</span> <span class="attr">type</span>=<span class="string">&quot;usb&quot;</span> <span class="attr">bus</span>=<span class="string">&quot;0&quot;</span> <span class="attr">port</span>=<span class="string">&quot;1&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">hostdev</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥æ­£å¸¸æ·»åŠ </p><hr><p>å½“ç„¶è¿˜æœ‰æ›²çº¿æ•‘å›½çš„æ–¹æ¡ˆï¼šç›´é€šä¸€ä¸ª USB HUB</p>]]>
    </content>
    <id>https://linweiyuan.github.io/2023/12/03/QEMU%E5%A4%9AUSB%E8%AE%BE%E5%A4%87%E7%9B%B4%E9%80%9A.html</id>
    <link href="https://linweiyuan.github.io/2023/12/03/QEMU%E5%A4%9AUSB%E8%AE%BE%E5%A4%87%E7%9B%B4%E9%80%9A.html"/>
    <published>2023-12-03T05:19:47.000Z</published>
    <summary>
      <![CDATA[<p>æ¯”å¦‚æˆ‘æœ‰ä¸¤ä¸ªç›¸åŒçš„ U ç›˜è¦ç›´é€šè¿‡å»ï¼Œå¦‚æœé€šè¿‡ virt-manager ç›´æ¥æ“ä½œï¼Œä¼šæç¤ºè¿™ä¸ªé”™è¯¯ <code>Unable to add device: XML error: Hostdev already exists in the domain configurati]]>
    </summary>
    <title>QEMU å¤š USB è®¾å¤‡ç›´é€š</title>
    <updated>2026-02-13T00:37:43.575Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="æ“ä½œç³»ç»Ÿ" scheme="https://linweiyuan.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    <category term="Arch Linux" scheme="https://linweiyuan.github.io/tags/Arch-Linux/"/>
    <category term="Nvidia" scheme="https://linweiyuan.github.io/tags/Nvidia/"/>
    <content>
      <![CDATA[<p>ä¹¦æ¥ä¸Šå› <a href="https://linweiyuan.github.io/2022/11/25/%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%98%BE%E5%8D%A1%E7%9B%B4%E9%80%9A-PCI-passthrough-via-OVMF.html">è™šæ‹Ÿæœºæ˜¾å¡ç›´é€š (PCI passthrough via OVMF)</a></p><hr><h1 id="ç³»ç»Ÿå‡†å¤‡"><a href="#ç³»ç»Ÿå‡†å¤‡" class="headerlink" title="ç³»ç»Ÿå‡†å¤‡"></a>ç³»ç»Ÿå‡†å¤‡</h1><p>ç°åœ¨çš„å°å¼æœº CPUï¼ŒåŠ¨ä¸åŠ¨å°±ä¸å¸¦æ ¸æ˜¾ï¼Œä½†é‚£ä¸ªæ˜¯æ’ç€ç”µæºçº¿çš„ï¼Œä¸ç”¨è€ƒè™‘å¦‚ä½•çœç”µ</p><p>è€Œç°åœ¨çš„ç¬”è®°æœ¬ï¼ŒåŠ¨ä¸åŠ¨å°±æ˜¯æ ¸æ˜¾åŠ ç‹¬æ˜¾ï¼Œå¹¶ä¸” BIOS é‡Œä¸ä¸€å®šå¸¦ç‹¬æ˜¾å¼€å…³ã€‚è¿™å°±é€ æˆäº†ä¸€ç§å›°æ‰°ï¼šæˆ‘ç°åœ¨æ²¡æœ‰ç©æ¸¸æˆæˆ–å…¶ä»–ç”¨æ˜¾å¡çš„éœ€æ±‚ï¼Œåªæ˜¯å†™å†™ä»£ç ï¼Œç„¶è€Œåˆšå¥½åœ¨å¤–é¢æ²¡æ’ç”µï¼Œè¿™æ ·ç‹¬æ˜¾å°±è¿˜ä¸€ç›´æ˜¯é€šç€ç”µçš„çŠ¶æ€ï¼Œç”µæ± æœ¬æ¥èƒ½ç”¨ 5 å°æ—¶ï¼Œç°åœ¨ 3 å°æ—¶å°±æ²¡ç”µäº†ã€‚æ‰€ä»¥ï¼Œæœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•ï¼Œå¯ä»¥åœ¨ BIOS ä¸æ”¯æŒç‹¬æ˜¾å¼€å…³çš„æƒ…å†µä¸‹ï¼ŒæŒ‰éœ€å…³æ‰æˆ–è€…å¼€å¯ç‹¬æ˜¾ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯æœ‰ï¼Œå¹¶ä¸”æœ‰å¾ˆå¤šç§æ–¹æ¡ˆã€‚ä½†æ˜¯è¿™é‡ŒæŒ‰ç…§æˆ‘çš„ä¸ªäººå–œå¥½ï¼Œåªä»‹ç» <a href="https://github.com/bayasdev/envycontrol">EnvyControl</a> è¿™ä¸€ç§ï¼ˆå…¶ä»–çš„æˆ‘è¯•è¿‡ï¼Œæ°´åœŸä¸æœï¼‰</p><hr><p>Arch Linux å®‰è£…å®Œæˆåï¼Œé»˜è®¤æ˜¯ç”¨çš„å¼€æºé©±åŠ¨ <code>nouveau</code>ï¼Œç½‘ä¸Šè¯´å®˜æ–¹çš„é—­æºé©±åŠ¨æ€§èƒ½æ›´å¥½ï¼Œé‚£ä¹ˆé¦–å…ˆå°±ç»™ç³»ç»Ÿè£…ä¸Šé—­æºé©±åŠ¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S nvidia</span><br></pre></td></tr></table></figure><p>ç„¶åä½ å¯ä»¥é…ç½®ä¸€äº›é’©å­ï¼Œè®©ç³»ç»Ÿè‡ªåŠ¨é‡æ–°ç”Ÿæˆåˆå§‹åŒ–å†…å­˜é•œåƒï¼Œæˆ–è€…ç®€å•ç²—æš´åœ°æ‰‹åŠ¨ç”Ÿæˆ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkinitcpio -p linux</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„å‘½ä»¤æ˜¯åŸºäºå½“å‰æœ€æ–° Linux å†…æ ¸çš„ï¼Œå¦‚æœä½ ç”¨çš„æ˜¯å…¶ä»–å†…æ ¸æˆ–è€…è‡ªå®šä¹‰å†…æ ¸ï¼Œé‚£ä¹ˆåˆ™è‡ªå·±æŒ‰éœ€ä¿®æ”¹</p><p>ç„¶åé‡å¯ç³»ç»Ÿï¼Œæ˜¾å¡é©±åŠ¨å°±ç®—å®‰è£…å®Œæˆäº†</p><p>æ¥ç€å°±æ˜¯é‡å¤´æˆï¼Œå®‰è£… <code>envycontrol</code>ï¼Œä½†æ˜¯è¿™ä¸ªåŒ…åªåœ¨ <code>AUR</code> é‡Œï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡ <code>yay</code> æˆ–è€…å…¶ä»–å·¥å…·è¿›è¡Œå®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S envycontrol</span><br></pre></td></tr></table></figure><hr><h1 id="æ ¸æ˜¾-ç‹¬æ˜¾"><a href="#æ ¸æ˜¾-ç‹¬æ˜¾" class="headerlink" title="æ ¸æ˜¾ + ç‹¬æ˜¾"></a>æ ¸æ˜¾ + ç‹¬æ˜¾</h1><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“å‰æ¨¡å¼æ˜¯æ ¸æ˜¾ + ç‹¬æ˜¾ï¼ˆè‡³å°‘æˆ‘è‡ªå·±çš„ç¬”è®°æœ¬æ˜¯è¿™æ ·ï¼‰ï¼Œæˆ–è€…å¯ä»¥é€šè¿‡ä¸‹é¢å‘½ä»¤åˆ‡æ¢ï¼ˆæ¯æ¬¡åˆ‡æ¢éƒ½è¦é‡å¯ç³»ç»Ÿï¼Œè¿™ä¸ªå¾ˆå¥½ç†è§£ï¼Œå› ä¸ºæœ‰æ—¶è¦æ‹‰é»‘ä¸€äº›é©±åŠ¨å’Œä¿®æ”¹ <code>udev</code> è§„åˆ™ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo envycontrol -s hybrid</span><br></pre></td></tr></table></figure><p><img src="/2023/09/23/Arch-Linux-%E5%A4%9A%E6%98%BE%E5%8D%A1%E5%88%87%E6%8D%A2%E9%85%8D%E7%BD%AE/envycontrol_hybrid.png"></p><p>å¦‚ä½•æµ‹è¯•å½“å‰æ˜¾å¡ä½¿ç”¨æƒ…å†µï¼Ÿå¯ä»¥æŸ¥çœ‹ <code>glxinfo</code> çš„è¾“å‡ºä¿¡æ¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">glxinfo | grep <span class="string">&quot;OpenGL renderer&quot;</span></span><br></pre></td></tr></table></figure><p>æ¯”å¦‚æˆ‘çš„ç¬”è®°æœ¬è¾“å‡ºå¦‚ä¸‹å†…å®¹</p><p><img src="/2023/09/23/Arch-Linux-%E5%A4%9A%E6%98%BE%E5%8D%A1%E5%88%87%E6%8D%A2%E9%85%8D%E7%BD%AE/glxinfo_intel.png"></p><hr><p>æ—¢ç„¶è¯´æ ¸æ˜¾ + ç‹¬æ˜¾éƒ½æ˜¯é€šç”µçš„ï¼Œæ€ä¹ˆç¡®è®¤å‘¢ï¼Ÿ</p><p>å¤šç§æ–¹æ³•ï¼Œæ¯”å¦‚ <code>lspci</code>ï¼Œä¸è¿‡è¿™ä¸ªè¾“å‡ºå¤šå°‘ä¼šè®©äººçœ¼èŠ±ç¼­ä¹±ï¼Œæ‰€ä»¥è¿™é‡Œç”¨äººçœ‹çš„ä¸€ç›®äº†ç„¶çš„æ–¹æ³• <code>neofetch</code></p><p><img src="/2023/09/23/Arch-Linux-%E5%A4%9A%E6%98%BE%E5%8D%A1%E5%88%87%E6%8D%A2%E9%85%8D%E7%BD%AE/neofetch_intel_nvidia.png"></p><p>è¿™é‡Œå¾ˆæ˜æ˜¾çœ‹åˆ°æ ¸æ˜¾å’Œç‹¬æ˜¾éƒ½æ˜¯åœ¨çº¿çš„</p><p>ä½†æ˜¯ç”¨ <code>nvidia-smi</code> ä¼šå‘ç°ï¼Œæ˜¯æ²¡æœ‰ä»»ä½•è¿›ç¨‹åœ¨ç”¨ç‹¬æ˜¾çš„</p><p><img src="/2023/09/23/Arch-Linux-%E5%A4%9A%E6%98%BE%E5%8D%A1%E5%88%87%E6%8D%A2%E9%85%8D%E7%BD%AE/nvidia_smi_no_processes.png"></p><p>ä½†æ˜¯ä¹Ÿå¯ä»¥çœ‹åˆ°åŠŸè€—æ˜¯æœ‰çš„ï¼Œè™½ç„¶ä¸å¤šï¼Œä½†æ˜¯ç»†æ°´é•¿æµ</p><hr><p>é‚£ä¹ˆæ—¢ç„¶ç‹¬æ˜¾åœ¨çº¿ï¼Œåˆæ²¡äººç”¨ï¼Œè¿˜ç”¨ç€ç”µï¼Œæµªè´¹å°±æµªè´¹åœ¨è¿™é‡Œäº†</p><p>æ‰€ä»¥åœ¨æ ¸æ˜¾ + ç‹¬æ˜¾ï¼ˆä¹Ÿå« <code>hybrid</code>ï¼‰æ¨¡å¼ï¼Œé»˜è®¤æ˜¯ä½¿ç”¨æ ¸æ˜¾çš„ï¼Œä½†æ˜¯ç‹¬æ˜¾ä¹Ÿé€šç”µï¼Œå½“ä½ æƒ³ç”¨çš„æ—¶å€™å°±å¯ä»¥é€šè¿‡ä¸€äº›å¦å¤–çš„æ–¹å¼ç”¨ï¼Œæ¯”å¦‚ <code>prime-run</code>ï¼Œå®‰è£…ä¹Ÿå¾ˆç®€å•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S nvidia-prime</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™åœ¨éœ€è¦ä½¿ç”¨ç‹¬æ˜¾çš„ç¨‹åºæˆ–è€…å‘½ä»¤å‰åŠ  <code>prime-run</code>ï¼Œå°±å¯ä»¥ç”¨åˆ°ç‹¬æ˜¾ï¼Œæ¯”å¦‚ä¸Šé¢çš„æ”¹æˆè¿™æ ·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prime-run glxinfo | grep <span class="string">&quot;OpenGL renderer string&quot;</span></span><br></pre></td></tr></table></figure><p><img src="/2023/09/23/Arch-Linux-%E5%A4%9A%E6%98%BE%E5%8D%A1%E5%88%87%E6%8D%A2%E9%85%8D%E7%BD%AE/prime_run_glxinfo.png"></p><p>è¿™æ ·å°±èƒ½æŒ‰éœ€ä½¿ç”¨ç‹¬æ˜¾</p><h1 id="ç‹¬æ˜¾"><a href="#ç‹¬æ˜¾" class="headerlink" title="ç‹¬æ˜¾"></a>ç‹¬æ˜¾</h1><p>æ¯”å¦‚å½“å‰æ’ç€ç”µï¼Œæˆ–è€…å°±æ˜¯æƒ³è¦æ›´é«˜æ€§èƒ½çš„è¡¨ç°ï¼Œåˆ™å¯ä»¥åˆ‡æ¢ä¸ºç‹¬æ˜¾æ¨¡å¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo envycontrol -s nvidia</span><br></pre></td></tr></table></figure><p><img src="/2023/09/23/Arch-Linux-%E5%A4%9A%E6%98%BE%E5%8D%A1%E5%88%87%E6%8D%A2%E9%85%8D%E7%BD%AE/envycontrol_nvidia.png"></p><p>è¿™ä¸ªæ—¶å€™ç›´æ¥æ‰§è¡Œ <code>glxinfo</code> ï¼ˆå¸¦ <code>prime-run</code> æˆ–è€…ä¸å¸¦éƒ½ä¸€æ ·ï¼‰ï¼Œåˆ™ä¼šæç¤ºç›®å‰æ­£åœ¨ä½¿ç”¨çš„æ˜¯ç‹¬æ˜¾</p><p><img src="/2023/09/23/Arch-Linux-%E5%A4%9A%E6%98%BE%E5%8D%A1%E5%88%87%E6%8D%A2%E9%85%8D%E7%BD%AE/glxinfo_nvidia.png"></p><p>å¹¶ä¸”ä¼šçœ‹åˆ°ä¹Ÿæœ‰è¿›ç¨‹ä½¿ç”¨ç‹¬æ˜¾äº†ï¼ˆå¦‚æœè¿™ä¸ªæ—¶å€™ä½¿ç”¨ <code>neofetch</code>ï¼Œæ ¸æ˜¾ä¹Ÿæ˜¯ä¼šæœ‰çš„ï¼Œå› ä¸ºå®ƒæœ‰å…¶ä»–å·¥ä½œè¦åšï¼Œæ¯”å¦‚è®¾ç½®å±å¹•äº®åº¦ä¹‹ç±»çš„ï¼‰</p><p><img src="/2023/09/23/Arch-Linux-%E5%A4%9A%E6%98%BE%E5%8D%A1%E5%88%87%E6%8D%A2%E9%85%8D%E7%BD%AE/nvidia_smi_processes.png"></p><p>æ²¡æ„å¤–çš„è¯ï¼Œæ‰€æœ‰æ–°è¿›ç¨‹éƒ½ç”¨ç‹¬æ˜¾</p><h1 id="æ ¸æ˜¾"><a href="#æ ¸æ˜¾" class="headerlink" title="æ ¸æ˜¾"></a>æ ¸æ˜¾</h1><p>è¿™ä¸ªå°±æ˜¯æ–‡ç« ä¸€å¼€å¤´çš„åœºæ™¯ï¼Œåˆ‡æ¢å‘½ä»¤å¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo envycontrol -s integrated</span><br></pre></td></tr></table></figure><p><img src="/2023/09/23/Arch-Linux-%E5%A4%9A%E6%98%BE%E5%8D%A1%E5%88%87%E6%8D%A2%E9%85%8D%E7%BD%AE/envycontrol_integrated.png"></p><p>è¿™ä¸ªæ—¶å€™æ‰§è¡Œ <code>neofetch</code> åˆ™çœ‹ä¸åˆ°ç‹¬æ˜¾äº†ï¼Œä¹Ÿå°±æ˜¯ä¸é€šç”µäº†</p><p><img src="/2023/09/23/Arch-Linux-%E5%A4%9A%E6%98%BE%E5%8D%A1%E5%88%87%E6%8D%A2%E9%85%8D%E7%BD%AE/neofetch_nvidia.png"></p><p>é‚£ä¹ˆæ‰§è¡Œ <code>glxinfo</code> å½“ç„¶æ˜¾ç¤ºæ ¸æ˜¾äº†</p><p><img src="/2023/09/23/Arch-Linux-%E5%A4%9A%E6%98%BE%E5%8D%A1%E5%88%87%E6%8D%A2%E9%85%8D%E7%BD%AE/glxinfo_integrated.png"></p><p>å¦‚æœæ‰§è¡Œç‹¬æ˜¾ç›¸å…³çš„ <code>prime-run</code> æˆ–è€… <code>nvidia-smi</code> åˆ™è‚¯å®šæŠ¥é”™äº†</p><p><img src="/2023/09/23/Arch-Linux-%E5%A4%9A%E6%98%BE%E5%8D%A1%E5%88%87%E6%8D%A2%E9%85%8D%E7%BD%AE/prime_run_error.png"></p><p><img src="/2023/09/23/Arch-Linux-%E5%A4%9A%E6%98%BE%E5%8D%A1%E5%88%87%E6%8D%A2%E9%85%8D%E7%BD%AE/nvidia_smi_error.png"></p>]]>
    </content>
    <id>https://linweiyuan.github.io/2023/09/23/Arch-Linux-%E5%A4%9A%E6%98%BE%E5%8D%A1%E5%88%87%E6%8D%A2%E9%85%8D%E7%BD%AE.html</id>
    <link href="https://linweiyuan.github.io/2023/09/23/Arch-Linux-%E5%A4%9A%E6%98%BE%E5%8D%A1%E5%88%87%E6%8D%A2%E9%85%8D%E7%BD%AE.html"/>
    <published>2023-09-23T12:05:10.000Z</published>
    <summary>
      <![CDATA[<p>ä¹¦æ¥ä¸Šå› <a href="https://linweiyuan.github.io/2022/11/25/%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%98%BE%E5%8D%A1%E7%9B%B4%E9%80%9A-PCI-passthrough-via]]>
    </summary>
    <title>Arch Linux å¤šæ˜¾å¡åˆ‡æ¢é…ç½®</title>
    <updated>2026-02-13T00:37:43.552Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="AI" scheme="https://linweiyuan.github.io/categories/AI/"/>
    <category term="ChatGPT" scheme="https://linweiyuan.github.io/categories/AI/ChatGPT/"/>
    <category term="ChatGPT" scheme="https://linweiyuan.github.io/tags/ChatGPT/"/>
    <category term="GPT-4" scheme="https://linweiyuan.github.io/tags/GPT-4/"/>
    <content>
      <![CDATA[<h1 id="æœ¬ç¯‡æ–‡ç« å·²è¿‡æœŸï¼Œä»…ä¾›æ€è·¯å‚è€ƒ"><a href="#æœ¬ç¯‡æ–‡ç« å·²è¿‡æœŸï¼Œä»…ä¾›æ€è·¯å‚è€ƒ" class="headerlink" title="æœ¬ç¯‡æ–‡ç« å·²è¿‡æœŸï¼Œä»…ä¾›æ€è·¯å‚è€ƒ"></a>æœ¬ç¯‡æ–‡ç« å·²è¿‡æœŸï¼Œä»…ä¾›æ€è·¯å‚è€ƒ</h1><h1 id="20230626-æ—©ä¸Š"><a href="#20230626-æ—©ä¸Š" class="headerlink" title="20230626 æ—©ä¸Š"></a>20230626 æ—©ä¸Š</h1><p>ä»¥ä¸‹é€†å‘ JS å†…å®¹å·²è¿‡æœŸï¼Œå‚è€ƒï¼š<a href="https://github.com/acheong08/ChatGPT/issues/1431#issuecomment-1606145567">https://github.com/acheong08/ChatGPT/issues/1431#issuecomment-1606145567</a></p><p>æœ‰å¦ä¸€ç§ç®€å•çš„æ–¹æ³•ç”Ÿæˆ <code>arkose_token</code>ï¼š<a href="https://github.com/linweiyuan/chatgpt-arkose-token-api">chatgpt-arkose-token-api</a></p><h1 id="20230626-ä¸‹åˆ"><a href="#20230626-ä¸‹åˆ" class="headerlink" title="20230626 ä¸‹åˆ"></a>20230626 ä¸‹åˆ</h1><p>å½“å¤©ï¼Œä¼¼ä¹ä¸Šé¢çš„æ–¹æ³•åˆå¤±æ•ˆäº†ï¼Œæ‰€ä»¥è¿˜æ˜¯å…ˆç”¨å›ä¸‹é¢çš„æ–¹æ³•</p><h1 id="20230626-å¤œé‡Œ-20230627"><a href="#20230626-å¤œé‡Œ-20230627" class="headerlink" title="20230626 å¤œé‡Œ - 20230627"></a>20230626 å¤œé‡Œ - 20230627</h1><p><code>arkose_token</code> çªç„¶ä¸æ£€æµ‹äº†ï¼Œä½†æ˜¯è¿˜æ˜¯å…ˆä¼ ç€ï¼Œä¿æŒå’Œå®˜ç½‘ä¸€æ ·</p><h1 id="2023-06-28"><a href="#2023-06-28" class="headerlink" title="2023-06-28"></a>2023-06-28</h1><p>åˆå¼€å§‹æ£€æµ‹äº†</p><h1 id="2023-07-08"><a href="#2023-07-08" class="headerlink" title="2023-07-08"></a>2023-07-08</h1><p><a href="https://github.com/linweiyuan/chatgpt-arkose-token-api">chatgpt-arkose-token-api</a> å¤æ´»ï¼Œä¸»è¦æ˜¯å€Ÿé‰´äº† <a href="https://github.com/xyhelper/xyhelper-arkose">xyhelper&#x2F;xyhelper-arkose</a></p><p>æŠŠ <code>html</code> é¡µé¢æ”¾åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œä¸è¡Œï¼Œä¼šå¼¹éªŒè¯ç </p><p>ä½†æ˜¯å•ç‹¬èµ·ä¸ªæœåŠ¡è·‘ <code>html</code> é¡µé¢ï¼Œåˆå¯ä»¥ï¼Œè«åå…¶å¦™</p><p>ï¼ˆæˆ‘è‡ªå·±æµ‹è¯•ï¼Œå¦‚æœæœåŠ¡å™¨ä¸Šå¼€å¯äº† <code>IPv6</code>ï¼Œä¼šæ‹¿ä¸åˆ° <code>token</code>ï¼ŒåŸå› æœªçŸ¥ï¼‰</p><p>æœåŠ¡å¥åº·ç¨‹åº¦ç›‘æ§é¡µé¢ï¼š<a href="https://stats.churchless.tech/">Health Status</a></p><h1 id="2023-07-27"><a href="#2023-07-27" class="headerlink" title="2023-07-27"></a>2023-07-27</h1><p>æ–¹æ³•å·²å¤±æ•ˆï¼Œä¸æŠ˜è…¾äº†</p><h1 id="2023-09-24"><a href="#2023-09-24" class="headerlink" title="2023-09-24"></a>2023-09-24</h1><p>æ›´æ–°è§†é¢‘ï¼Œé€šè¿‡æŠ“ har åŒ…è·å–åˆæ³• tokenï¼ˆè¿™ä¸ªæ–¹æ³•å·²ç»å­˜åœ¨å¾ˆä¹…äº†ï¼Œä½†æ˜¯æœ€è¿‘æ¯”è¾ƒå¿™ï¼Œä¹ŸåŸºæœ¬å¼ƒå‘äº†æ²¡ç”¨ GPTï¼Œæ‰€ä»¥é¸½åˆ°ç°åœ¨æ›´æ–°ï¼‰</p><h1 id="2023-10-02"><a href="#2023-10-02" class="headerlink" title="2023-10-02"></a>2023-10-02</h1><p>åŸæ¥æœ¬æ¥å°±æœ‰æ›´åŠ æ–¹ä¾¿çš„æ–¹æ³•ï¼Œä¹‹å‰æ²¡æœ‰æ³¨æ„ï¼Œç°åœ¨æ›´æ–°ï¼Œæ— éœ€é¢å¤–å†è·‘ä¸€ä¸ª token æœåŠ¡</p><hr><h1 id="GPT-4-403"><a href="#GPT-4-403" class="headerlink" title="GPT-4 403"></a>GPT-4 403</h1><p>GPT-4 å¯¹ <code>arkose_token</code> çš„æ ¡éªŒåœ¨æœ€è¿‘å‡ å¤©é‡Œæ¯å¤©éƒ½æ”¹å˜å¾ˆå¤šæ¬¡ï¼Œæœ‰æ—¶æ—©ä¸Šæäº¤ä»£ç ï¼Œä¸‹åˆå°±å¤±æ•ˆï¼Œæˆ–è€…æ™šä¸Šæäº¤ï¼Œç¬¬äºŒå¤©å¤±æ•ˆ</p><p><img src="/2023/06/24/%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90-GPT-4-arkose-token/403.png"></p><p>é€šè¿‡ä¸æ–­çš„è¯•é”™ï¼ŒæŠŠæ‰€æœ‰ç¼ºå¤±çš„å‚æ•°å…¨éƒ¨è¡¥ä¸Šï¼Œä½†æ˜¯æœ€åè¿˜æ˜¯ 403 äº†</p><p>äºæ˜¯ï¼Œæ‰“ç®—ä»æºå¤´å‡ºå‘ï¼Œå­¦ä¹ ä¸€ä¸‹ JS çš„é€†å‘ï¼ˆæœ¬äºº JS ç›¸å¯¹æ–°æ‰‹ï¼Œä½†æ˜¯æ›¾ç»ä¹Ÿå†™è¿‡ï¼‰</p><h1 id="arkose-token-ä»ä½•æ¥"><a href="#arkose-token-ä»ä½•æ¥" class="headerlink" title="arkose_token ä»ä½•æ¥"></a>arkose_token ä»ä½•æ¥</h1><p>æ¥å£ï¼š<code>https://tcr9i.chat.openai.com/fc/gt2/public_key/35536E1E-65B4-4D96-9D97-6ADB7EFF8147</code></p><p>FormData:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">bda: ct + iv + s çš„ base64 ç¼–ç </span><br><span class="line">public_key: 35536E1E-65B4-4D96-9D97-6ADB7EFF8147</span><br><span class="line">site: https://chat.openai.com</span><br><span class="line">userbrowser: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36</span><br><span class="line">capi_version: 1.5.2</span><br><span class="line">capi_mode: lightbox</span><br><span class="line">style_theme: default</span><br><span class="line">rnd: éšæœºæ•°ï¼Œå°æ•°ç‚¹åæœ‰æ—¶ 16 ä½ï¼Œæœ‰æ—¶ 17 ä½</span><br></pre></td></tr></table></figure><p>å…¶ä»–å‚æ•°éƒ½æ˜¯å†™æ­»ï¼Œå¹¶ä¸”ä¹‹å‰ä¸ä¼ ä¹Ÿå¯ä»¥ï¼Œæœ€è¿‘å¿…é¡»è¦ä¼ ï¼Œå¹¶ä¸”è¿˜è¦ä¼ å¯¹ï¼Œä¸ç„¶ 403</p><p>é‡ç‚¹å°±æ˜¯åœ¨ bda å‚æ•°é‡Œï¼Œé‡Œé¢çš„å†…å®¹æ˜¯åŠ å¯†çš„</p><h1 id="bda"><a href="#bda" class="headerlink" title="bda"></a>bda</h1><p>é€šè¿‡ F12ï¼Œä¸€æ­¥ä¸€æ­¥è·Ÿï¼Œå‘ç°äº†ä¸€äº›è››ä¸é©¬è¿¹ï¼Œæœ€åè°ƒç”¨çš„æ˜¯è¿™ä¸ªæ–¹æ³•æ¥ç”Ÿæˆ bda å‚æ•°ï¼š<code>ALFCCJS.encrypt(bx, bv + bw)</code></p><p><img src="/2023/06/24/%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90-GPT-4-arkose-token/encrypt.png"></p><p>äºæ˜¯åæ¨ï¼Œå¦‚ä½•ç”Ÿæˆ <code>bx</code>ã€<code>bv</code> å’Œ <code>bw</code></p><h1 id="bx"><a href="#bx" class="headerlink" title="bx"></a>bx</h1><p><code>bx</code> ä¾èµ– <code>b5</code> å’Œ <code>bg</code></p><p><code>b5</code> æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé‡Œé¢çš„ä¸œè¥¿å¤§éƒ¨åˆ†éƒ½æ˜¯å†™æ­»çš„ï¼Œé™¤äº†ä¸€ä¸ªæ—¶é—´æˆ³</p><p><img src="/2023/06/24/%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90-GPT-4-arkose-token/b5.png"></p><p><code>bg</code> å†™æ­»çš„ï¼Œæœ¬æ¬¡æµ‹è¯•ä¸ä¼ ä¹Ÿæ­£å¸¸ï¼ˆæœªæ¥å¯èƒ½æœ‰æ ¡éªŒï¼‰</p><p>å°† <code>b5</code> æ•°ç»„è½¬æˆå­—ç¬¦ä¸²ï¼Œå°±å¾—åˆ°äº† <code>bx</code></p><p><img src="/2023/06/24/%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90-GPT-4-arkose-token/bx.png"></p><h1 id="bv"><a href="#bv" class="headerlink" title="bv"></a>bv</h1><p><code>bv</code> æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå°±æ˜¯å½“å‰æµè§ˆå™¨ <code>UA</code> å†™æ­»</p><p><img src="/2023/06/24/%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90-GPT-4-arkose-token/bv.png"></p><h1 id="bw"><a href="#bw" class="headerlink" title="bw"></a>bw</h1><p><code>bw</code> ä¸å¤æ‚ï¼Œå½“å‰æ—¶é—´æˆ³ç„¶åè®¡ç®—ä¸€ä¸‹</p><p><img src="/2023/06/24/%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90-GPT-4-arkose-token/bw.png"></p><h1 id="200"><a href="#200" class="headerlink" title="200"></a>200</h1><p>æœ€åæ‰§è¡ŒåŠ å¯†æ–¹æ³•ï¼Œå°±èƒ½ç”ŸæˆåŠ å¯† <code>bda</code></p><p>å¦‚æœæç¤º <code>ALFCCJS is not defined</code>ï¼Œæ‰§è¡Œä¸‹é¢ JS å°†å…¶åˆå§‹åŒ– </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;script&quot;</span>);</span><br><span class="line">script.<span class="property">type</span> = <span class="string">&quot;text/javascript&quot;</span>;</span><br><span class="line">script.<span class="property">src</span> = <span class="string">&quot;https://tcr9i.chat.openai.com/cdn/fc/js/6af2c0d87b9879cbf3365be1a208293f84d37b1e/standard/funcaptcha_api.js&quot;</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">head</span>.<span class="title function_">appendChild</span>(script);</span><br></pre></td></tr></table></figure><p><img src="/2023/06/24/%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90-GPT-4-arkose-token/bda.png"></p><p>å†è®¾ç½®åˆ°å‚æ•°é‡Œè°ƒç”¨æ¥å£å°±èƒ½æ‹¿åˆ° <code>arkose_token</code></p><p>GPT-4 å°± 200 äº†</p><p><img src="/2023/06/24/%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90-GPT-4-arkose-token/200.png"></p><h1 id="è§†é¢‘ï¼ˆå…±ä¸‰ä¸ªï¼‰"><a href="#è§†é¢‘ï¼ˆå…±ä¸‰ä¸ªï¼‰" class="headerlink" title="è§†é¢‘ï¼ˆå…±ä¸‰ä¸ªï¼‰"></a>è§†é¢‘ï¼ˆå…±ä¸‰ä¸ªï¼‰</h1><p>ä¸€å¼€å§‹çœ‹é”™äº† <code>bv</code> æˆ <code>by</code>ï¼Œä½†æ˜¯å­—å¹•çƒ§å½•è¿›å»äº†ï¼Œæ‡’å¾—æ”¹äº†ï¼Œå…¶å®æ˜¯ <code>bx</code>, <code>bv</code>, <code>bw</code></p><div>  <video-js id="videojs-id-0c1e5cbd-e401-4bd8-a6fc-c7f92b582125"     class="vjs-default-skin vjs-16-9"     controls     preload="auto"     width="100%"     height="350px">    <source src="/video/how-to-generate-gpt-4-arkose-token/index.m3u8" type="application&#x2F;x-mpegURL">  </video-js>      <script>    const videojsid0c1e5cbde4014bd8a6fcc7f92b582125 = videojs('videojs-id-0c1e5cbd-e401-4bd8-a6fc-c7f92b582125', {      html5: {        hls: {          overrideNative: true        }      }    });  </script>  </div> <hr><div>  <video-js id="videojs-id-63be7271-d248-4a77-8fa8-01e125cd3613"     class="vjs-default-skin vjs-16-9"     controls     preload="auto"     width="100%"     height="350px">    <source src="/video/how-to-generate-gpt-4-arkose-token-new/index.m3u8" type="application&#x2F;x-mpegURL">  </video-js>      <script>    const videojsid63be7271d2484a778fa801e125cd3613 = videojs('videojs-id-63be7271-d248-4a77-8fa8-01e125cd3613', {      html5: {        hls: {          overrideNative: true        }      }    });  </script>  </div> <hr><div>  <video-js id="videojs-id-b67e2e80-857b-4093-87b2-8a4f39e1b1ff"     class="vjs-default-skin vjs-16-9"     controls     preload="auto"     width="100%"     height="350px">    <source src="/video/how-to-generate-gpt-4-arkose-token-latest/index.m3u8" type="application&#x2F;x-mpegURL">  </video-js>      <script>    const videojsidb67e2e80857b409387b28a4f39e1b1ff = videojs('videojs-id-b67e2e80-857b-4093-87b2-8a4f39e1b1ff', {      html5: {        hls: {          overrideNative: true        }      }    });  </script>  </div>]]>
    </content>
    <id>https://linweiyuan.github.io/2023/06/24/%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90-GPT-4-arkose-token.html</id>
    <link href="https://linweiyuan.github.io/2023/06/24/%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90-GPT-4-arkose-token.html"/>
    <published>2023-06-24T15:10:24.000Z</published>
    <summary>
      <![CDATA[<h1 id="æœ¬ç¯‡æ–‡ç« å·²è¿‡æœŸï¼Œä»…ä¾›æ€è·¯å‚è€ƒ"><a href="#æœ¬ç¯‡æ–‡ç« å·²è¿‡æœŸï¼Œä»…ä¾›æ€è·¯å‚è€ƒ" class="headerlink" title="æœ¬ç¯‡æ–‡ç« å·²è¿‡æœŸï¼Œä»…ä¾›æ€è·¯å‚è€ƒ"></a>æœ¬ç¯‡æ–‡ç« å·²è¿‡æœŸï¼Œä»…ä¾›æ€è·¯å‚è€ƒ</h1><h1 id="20230626-æ—©ä¸Š"><a h]]>
    </summary>
    <title>å¦‚ä½•ç”Ÿæˆ GPT-4 arkose_token</title>
    <updated>2026-02-13T00:37:43.592Z</updated>
  </entry>
  <entry>
    <author>
      <name>æ—ä¼Ÿæº</name>
    </author>
    <category term="AI" scheme="https://linweiyuan.github.io/categories/AI/"/>
    <category term="ChatGPT" scheme="https://linweiyuan.github.io/categories/AI/ChatGPT/"/>
    <category term="ChatGPT" scheme="https://linweiyuan.github.io/tags/ChatGPT/"/>
    <category term="HTTP Client" scheme="https://linweiyuan.github.io/tags/HTTP-Client/"/>
    <content>
      <![CDATA[<p>æ¥å£è°ƒè¯•</p><div>  <video-js id="videojs-id-09e638ab-23d4-4c6d-9d9b-6f31cb9ecc10"     class="vjs-default-skin vjs-16-9"     controls     preload="auto"     width="100%"     height="350px">    <source src="/video/http-client-debug-go-chatgpt-api/index.m3u8" type="application&#x2F;x-mpegURL">  </video-js>      <script>    const videojsid09e638ab23d44c6d9d9b6f31cb9ecc10 = videojs('videojs-id-09e638ab-23d4-4c6d-9d9b-6f31cb9ecc10', {      html5: {        hls: {          overrideNative: true        }      }    });  </script>  </div>]]>
    </content>
    <id>https://linweiyuan.github.io/2023/06/18/%E5%88%A9%E7%94%A8-HTTP-Client-%E6%9D%A5%E8%B0%83%E8%AF%95-go-chatgpt-api.html</id>
    <link href="https://linweiyuan.github.io/2023/06/18/%E5%88%A9%E7%94%A8-HTTP-Client-%E6%9D%A5%E8%B0%83%E8%AF%95-go-chatgpt-api.html"/>
    <published>2023-06-18T12:31:41.000Z</published>
    <summary>
      <![CDATA[<p>æ¥å£è°ƒè¯•</p>
<div>
  <video-js id="videojs-id-09e638ab-23d4-4c6d-9d9b-6f31cb9ecc10" 
    class="vjs-default-skin vjs-16-9" 
    controls]]>
    </summary>
    <title>åˆ©ç”¨ HTTP Client æ¥è°ƒè¯• go-chatgpt-api</title>
    <updated>2026-02-13T00:37:43.581Z</updated>
  </entry>
</feed>
